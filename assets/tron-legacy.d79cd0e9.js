!function(){var e=document.createElement("style");e.innerHTML=".tron-container[data-v-2bed73ca]{--van-color-primary: #3F80F7;font-size:.28rem;background-color:#f4f5f5;min-height:100vh;padding:.2rem .3rem 1rem}.tron-container .t-card[data-v-2bed73ca]{background:#FFFFFF;border-radius:.12rem;padding:.3rem .2rem .2rem}.tron-container .link[data-v-2bed73ca]{border:none;background-color:transparent;color:#3f80f7}.tron-container .link[data-v-2bed73ca]:active{opacity:.5}.tron-container .range-c[data-v-2bed73ca]{position:relative;background:#99BDFF;border-radius:.36rem;height:.28rem;display:flex;justify-content:center;font-size:.24rem;color:#fff;font-weight:400;overflow:hidden;margin-bottom:.36rem}.tron-container .range-c .range-v[data-v-2bed73ca]{position:absolute;left:0;top:0;height:100%;width:0;background-color:#3f80f7;z-index:1}.tron-container .range-c .range-t[data-v-2bed73ca]{position:relative;z-index:2}.tron-container .tabs[data-v-2bed73ca]{--van-radio-size: .4rem;font-size:.28rem;display:flex;justify-content:center;margin-bottom:.36rem}.tron-container .tabs-b[data-v-2bed73ca]{margin-top:.3rem;margin-bottom:.4rem}.tron-container .tabs-b button[data-v-2bed73ca]{background:#F4F5F5;border-radius:.32rem 0 0 .32rem;font-size:.28rem;color:#323233;letter-spacing:0;text-align:center;line-height:.32rem;font-weight:400;border:none;padding:.12rem .24rem .12rem .3rem}.tron-container .tabs-b button.active[data-v-2bed73ca]{background:#3F80F7;color:#fff}.tron-container .tabs-b button[data-v-2bed73ca]:last-child{border-radius:0 .32rem .32rem 0;padding:.12rem .3rem .12rem .24rem}.tron-container .input-n[data-v-2bed73ca]{--van-cell-background-color: #fff;border:.02rem solid rgb(230,231,232);border-radius:.16rem;padding:.16rem .2rem;line-height:1;margin-top:.14rem;margin-bottom:.14rem}.tron-container .input-n[data-v-2bed73ca] .van-field__left-icon{display:flex;align-items:center}.tron-container .d-line[data-v-2bed73ca]{height:80%;border-right:.02rem solid #ccc;margin:0 .2rem}.tron-container .pb-15[data-v-2bed73ca]{padding-bottom:.3rem}.tron-container .btn-36[data-v-2bed73ca]{height:.72rem;margin-top:.4rem;font-size:.28rem}.tron-container .tips[data-v-2bed73ca]{font-size:.24rem;color:#999;font-weight:400;margin-top:.1rem;line-height:1.2}.tron-container .button-1[data-v-2bed73ca]{height:.48rem;min-width:1rem}.tron-container .ml-5[data-v-2bed73ca]{margin-left:.1rem}.tron-container .icon-tips[data-v-2bed73ca]:active{opacity:.5}.tabs-box[data-v-2bed73ca]{display:flex;justify-content:center;line-height:1;margin-top:.2rem}.tabs-box .tabs-list[data-v-2bed73ca]{padding:.1rem;background:#EEEEEE;border-radius:.16rem;display:flex;justify-content:center;align-items:center}.tabs-box .tabs-list button[data-v-2bed73ca]{background:transparent;border-radius:.16rem;font-size:.28rem;color:#333;text-align:center;font-weight:400;border:none;padding:.16rem;min-width:40vw}.tabs-box .tabs-list button.active[data-v-2bed73ca]{background:#fff}.pop-content[data-v-2bed73ca]{font-size:.28rem;padding:0 .3rem;position:relative}.pop-content .tabs-box[data-v-2bed73ca]{position:absolute;top:0;left:0;width:100%;margin-top:0;background-color:#fff}.pop-content .tabs-box-ph[data-v-2bed73ca]{height:.8rem}.pop-content .table-list[data-v-2bed73ca]{padding-bottom:1rem}.pop-content .table-list li[data-v-2bed73ca]{background-color:#f5f5f5;border-radius:.16rem;margin-top:.2rem;padding:.2rem .3rem}.flex-1[data-v-2bed73ca]{flex:1}.text-right[data-v-2bed73ca]{text-align:right}.flex-between-center[data-v-2bed73ca]{display:flex;justify-content:space-between;align-items:stretch}.flex-between-center.center[data-v-2bed73ca]{align-items:center}.flex-co-between-center[data-v-2bed73ca]{display:flex;flex-direction:column;justify-content:space-between}.flex-co-between-center.right[data-v-2bed73ca]{align-items:flex-end}.flex-co-between-center.center[data-v-2bed73ca]{align-items:center}.font-1[data-v-2bed73ca]{font-size:.32rem;color:#333;letter-spacing:0;font-weight:500}.font-2[data-v-2bed73ca]{font-size:.28rem;color:#333;font-weight:400}.font-3[data-v-2bed73ca]{font-size:.24rem;color:#999;font-weight:400}.font-4[data-v-2bed73ca]{font-size:.28rem;color:#999;font-weight:400}.font-5[data-v-2bed73ca]{font-size:.28rem;color:#333;font-weight:500}.mt-10[data-v-2bed73ca]{margin-top:.2rem}.mt-15[data-v-2bed73ca]{margin-top:.3rem}.btn-s[data-v-2bed73ca]{padding-left:.16rem;padding-right:.16rem}.select-action-pop[data-v-2bed73ca] .van-action-sheet__close{z-index:2}.select-container[data-v-2bed73ca]{font-size:.28rem}.select-container .select-title[data-v-2bed73ca]{background-color:#fff;width:100%;position:absolute;z-index:1;top:0;left:0;padding:.2rem 0;font-size:.32rem;display:flex;justify-content:center;align-items:center}.select-container .select-title button[data-v-2bed73ca]{border:none;background-color:transparent;padding:.1rem .2rem;color:#999}.select-container .select-title button.active[data-v-2bed73ca]{color:#333}.select-container .select-placeholder[data-v-2bed73ca]{height:1rem}.select-container .select-content[data-v-2bed73ca]{font-size:.28rem;color:#333;letter-spacing:0;font-weight:400;padding:0 .3rem 1rem}.select-container .select-content .select-item[data-v-2bed73ca]{display:flex;align-items:center;justify-content:space-between;font-size:.28rem;font-weight:400;border-bottom:.01rem solid #EBEDF0;padding:.24rem 0}.select-container .select-content .select-item .select-item_left[data-v-2bed73ca]{color:#999}.select-container .select-content .select-item .select-item_left .select-item_left-bottom[data-v-2bed73ca]{margin-top:.04rem;display:flex;align-items:center;font-size:.24rem;color:#000;letter-spacing:0;font-weight:400}.select-container .select-content .select-item .select-item_left .select-item_left-bottom .icon-copy[data-v-2bed73ca]{font-size:.28rem;color:#999;margin-left:.1rem}.count-down[data-v-2bed73ca]{color:#ee0a24}\n",document.head.appendChild(e),System.register(["./index-legacy.22518d29.js","./tron-legacy.8900a8bc.js","./ethers-legacy.01e2d92c.js"],(function(e){"use strict";var t,a,n,o,c,s,i,r,l,d,u,m,f,h,b,g,p,v,w,z,A,_,y,R,x,k,$,E,D,T,B,N;return{setters:[function(e){t=e._,a=e.a3,n=e.bp,o=e.r,c=e.v,s=e.o,i=e.c,r=e.i,l=e.b,d=e.w,u=e.t,m=e.n,f=e.p,h=e.m,b=e.F,g=e.k,p=e.e,v=e.l,w=e.d,z=e.x,A=e.z,_=e.q,y=e.u},function(e){R=e.u,x=e.g,k=e.a,$=e.b,E=e.c,D=e.d,T=e.e},function(e){B=e.f,N=e.b}],execute:function(){const F={name:"TronBandwidth&Energy",data:()=>({utils:R,tabActive:"wallet",accounts:{wallet:[],contact:[]},resource:"BANDWIDTH",value:"",tabActive2:1,tabActive3:1,tabActive4:1,tabActive5:1,address:"",accountResource:{freeNetUsed:0,freeNetLimit:0,NetUsed:0,NetLimit:0,TotalNetLimit:0,EnergyUsed:0,EnergyLimit:0,TotalEnergyLimit:0,TotalEnergyWeight:0},account:{acquired_delegated_frozen_balance_for_bandwidth:0,delegated_frozen_balance_for_bandwidth:0,frozen:[],frozenV2:[],balance:0},canDelegatedMaxSizeB:0,canDelegatedMaxSizeE:0,frozenAmount:"",unfrozenAmount:"",receiverAddress:"",loading:!1,lock:!1,delegatedResourceV2List:[],canUndelegatedBAmount:0,canUndelegatedEAmount:0,show:!1,canWithdrawUnFreezeAmount:0,delegateAmount:"",resource1:"BANDWIDTH",loading1:!1,show1:!1,isAppGetContactList:window?._tw_?.appGetContactList}),computed:{BPrice(){return this.accountResource.TotalNetWeight?this.accountResource.TotalNetLimit/this.accountResource.TotalNetWeight:0},freeB(){return(this.accountResource.freeNetLimit||0)-(this.accountResource.freeNetUsed||0)},NetB(){return(this.accountResource.NetLimit||0)-(this.accountResource.NetUsed||0)},totalB(){return this.freeB+this.NetB},totalAllB(){return(this.accountResource.freeNetLimit||0)+(this.accountResource.NetLimit||0)},pB(){return this.totalAllB?100*this.totalB/this.totalAllB:0},EnergyBalance(){return(this.accountResource.EnergyLimit||0)-(this.accountResource.EnergyUsed||0)},EnergyPrice(){return this.accountResource.TotalEnergyWeight?this.accountResource.TotalEnergyLimit/this.accountResource.TotalEnergyWeight:0},pE(){return this.accountResource.EnergyLimit?100*this.EnergyBalance/(this.accountResource.EnergyLimit||0):0},lockBTRX(){return this.accountResource.TotalNetLimit?(this.accountResource.TotalNetWeight||0)*(this.accountResource.NetLimit||0)/this.accountResource.TotalNetLimit:0},frozenBTRX(){return B(this.account?.frozenV2?.[0]?.amount||0,6)},frozenBTRXOther(){return B(this.account?.delegated_frozenV2_balance_for_bandwidth||0,6)},frozenBTRXFromOther(){return B(this.account?.acquired_delegated_frozenV2_balance_for_bandwidth||0,6)},totalFrozenBTRX(){return B((this.account?.frozenV2?.[0]?.amount||0)+(this.account?.delegated_frozenV2_balance_for_bandwidth||0),6)},frozenETRX(){return B(this.account?.frozenV2?.[1]?.amount||0,6)},frozenETRXOther(){return B(this.account?.account_resource?.delegated_frozenV2_balance_for_energy||0,6)},frozenETRXFromOther(){return B(this.account?.account_resource?.acquired_delegated_frozenV2_balance_for_energy||0,6)},totalFrozenETRX(){return B((this.account?.frozenV2?.[1]?.amount||0)+(this.account?.account_resource?.delegated_frozenV2_balance_for_energy||0),6)},unfreezableBTRX(){return B(this.account?.frozenV2?.[0]?.amount||0,6)},unfreezableETRX(){return B(this.account?.frozenV2?.[1]?.amount||0,6)},disabled(){let e=B(this.account?.balance||0,6),t=this.unfreezableBTRX||0,n=this.unfreezableETRX||0,o=new a(this.canDelegatedMaxSizeB).div(new a(10).pow(6)).toFixed(),c=new a(this.canDelegatedMaxSizeE).div(new a(10).pow(6)).toFixed();return 1===this.tabActive3&&1===this.tabActive4&&(!this.frozenAmount||new a(this.frozenAmount).gt(e))||2===this.tabActive4&&(!this.unfrozenAmount||"BANDWIDTH"===this.resource&&new a(this.unfrozenAmount).gt(t)||"ENERGY"===this.resource&&new a(this.unfrozenAmount).gt(n))||2===this.tabActive3&&(!this.delegateAmount||"BANDWIDTH"===this.resource1&&new a(this.delegateAmount).gt(o)||"ENERGY"===this.resource1&&new a(this.delegateAmount).gt(c))},errMessage(){if(1===this.tabActive3){if(1===this.tabActive4){let e=B(this.account?.balance||0,6);return this.frozenAmount&&new a(this.frozenAmount).gt(e)?this.$t("insufficientBalance"):""}{let e=this.unfreezableBTRX||0,t=this.unfreezableETRX||0;return this.unfrozenAmount&&("BANDWIDTH"===this.resource&&new a(this.unfrozenAmount).gt(e)||"ENERGY"===this.resource&&new a(this.unfrozenAmount).gt(t))?this.$t("insufficientBalance"):""}}{let e=new a(this.canDelegatedMaxSizeB).div(new a(10).pow(6)).toFixed(),t=new a(this.canDelegatedMaxSizeE).div(new a(10).pow(6)).toFixed();return this.delegateAmount&&("BANDWIDTH"===this.resource1&&new a(this.delegateAmount).gt(e)||"ENERGY"===this.resource1&&new a(this.delegateAmount).gt(t))?this.$t("insufficientBalance"):""}}},methods:{async init(){this.address=await this.$f.callApp("getWalletAddress")||"",this.address,console.log("address",this.address),this.getAccountResource(),this.getAccount(),this.getCanDelegatedMaxSize(),this.getCanWithdrawUnFreezeAmount(),this.getDelegatedResourceAccountIndexV2(),this.appGetContactList()},getAccountResource(){this.address&&x(this.address).then((e=>{console.log("accountResource",e),this.accountResource=e}))},getAccount(){this.address&&k(this.address).then((e=>{console.log(e),this.account=e}))},getCanDelegatedMaxSize(){this.address&&($(this.address,0).then((e=>{console.log(e),this.canDelegatedMaxSizeB=e?.max_size||0})),$(this.address,1).then((e=>{console.log(e),this.canDelegatedMaxSizeE=e?.max_size||0})))},getCanWithdrawUnFreezeAmount(){this.address&&E(this.address).then((e=>{console.log("getCanWithdrawUnFreezeAmount",e),this.canWithdrawUnFreezeAmount=e?.amount||0}))},getDelegatedResourceAccountIndexV2(){this.address&&D(this.address).then((e=>{console.log("getDelegatedResourceAccountIndexV2",e);let t=e?.toAccounts||[];Promise.all(t.map((e=>T(this.address,e)))).then((e=>{this.delegatedResourceV2List=e?.reduce(((e,t)=>t.delegatedResource&&Array.isArray(t.delegatedResource)?[...e,...t.delegatedResource]:e),[]),this.canUndelegatedBAmount=this.delegatedResourceV2List.reduce(((e,t)=>e+(Date.now()>(t.expire_time_for_bandwidth||0)&&t?.frozen_balance_for_bandwidth||0)),0),this.canUndelegatedEAmount=this.delegatedResourceV2List.reduce(((e,t)=>e+(Date.now()>(t?.expire_time_for_energy||0)&&t?.frozen_balance_for_energy||0)),0)}))}))},freezeBalanceV2(){let e={owner_address:this.address,frozen_balance:N(this.frozenAmount||"0",6).toNumber(),resource:this.resource,visible:!0};this.loading=!0,console.log("freezeBalanceV2",e),this.$f.callApp("freezeBalanceV2",e).then((e=>{console.log("freezeBalanceV2---result",e),e&&(this.getAccountResource(),this.getAccount(),this.getCanDelegatedMaxSize(),this.getCanWithdrawUnFreezeAmount(),this.getDelegatedResourceAccountIndexV2())})).catch((e=>{console.log(e)})).finally((()=>{this.loading=!1}))},unfreezeBalanceV2(){let e={owner_address:this.address,unfreeze_balance:N(this.unfrozenAmount||"0",6).toString(),resource:this.resource,visible:!0};this.loading=!0,console.log("unfreezeBalanceV2",e),this.$f.callApp("unfreezeBalanceV2",e).then((e=>{console.log("unfreezeBalanceV2---result",e),e&&(this.getAccountResource(),this.getAccount(),this.getCanDelegatedMaxSize(),this.getCanWithdrawUnFreezeAmount(),this.getDelegatedResourceAccountIndexV2())})).catch((e=>{console.log(e)})).finally((()=>{this.loading=!1}))},delegateResource(e=this.delegateAmount){let t={owner_address:this.address,receiver_address:this.receiverAddress,balance:N(e||"0",6).toNumber(),resource:this.resource1,lock:this.lock,visible:!0};this.loading=!0,console.log("delegateResource",t),this.$f.callApp("delegateResource",t).then((e=>{console.log("delegateResource---result",e),e&&(this.getAccountResource(),this.getAccount(),this.getCanDelegatedMaxSize(),this.getCanWithdrawUnFreezeAmount(),this.getDelegatedResourceAccountIndexV2())})).catch((e=>{console.log(e)})).finally((()=>{this.loading=!1}))},unDelegateResource(e,t,a){let n={owner_address:this.address,receiver_address:a,balance:Number(e),resource:t,visible:!0};this.loading=!0,console.log("unDelegateResource",n),this.$f.callApp("unDelegateResource",n).then((e=>{console.log("unDelegateResource---result",e),e&&(this.getAccountResource(),this.getAccount(),this.getCanDelegatedMaxSize(),this.getCanWithdrawUnFreezeAmount(),this.getDelegatedResourceAccountIndexV2())})).catch((e=>{console.log(e)})).finally((()=>{this.loading=!1}))},withdrawExpireUnfreeze(){let e={owner_address:this.address,visible:!0};this.loading1=!0,console.log("withdrawExpireUnfreeze",e),this.$f.callApp("withdrawExpireUnfreeze",e).then((e=>{console.log("withdrawExpireUnfreeze---result",e),e&&(this.getAccountResource(),this.getAccount(),this.getCanDelegatedMaxSize(),this.getCanWithdrawUnFreezeAmount(),this.getDelegatedResourceAccountIndexV2())})).catch((e=>{console.log(e)})).finally((()=>{this.loading1=!1}))},onSubmit(){1===this.tabActive3?1===this.tabActive4?this.freezeBalanceV2():this.unfreezeBalanceV2():this.delegateResource()},showDelegateHistory(e){this.tabActive5=e,this.show=!0},appGetContactList(){if(window?._tw_?.appGetContactList){let e=window?._tw_?.appGetContactList?.();console.log("accounts",e),this.accounts=e&&n(e)?JSON.parse(e):{wallet:[],contact:[]},console.log("this.accounts",this.accounts),this.tabActive=this.accounts?.contact?.some((e=>e.contact_address===this.toAddress))?"contact":"wallet",console.log("tabActive",this.tabActive)}},handleSelectAccount(e){this.receiverAddress=e?.contact_address||"",this.show1=!1},formatIsExpire:(e,t="bandwidth")=>"bandwidth"===t?Date.now()>(e.expire_time_for_bandwidth||0):Date.now()>(e.expire_time_for_energy||0),getExpire:(e,t="bandwidth")=>"bandwidth"===t?(e.expire_time_for_bandwidth||0)-Date.now():(e.expire_time_for_energy||0)-Date.now()},activated(){this.init()}},V=e=>(_("data-v-2bed73ca"),e=e(),y(),e),C={class:"tron-switch-version"},U={class:"tron-container"},X={class:"t-card"},L={class:"flex-between-center"},W={class:"font-1"},S={class:"font-3"},I={class:"range-c"},H={class:"range-t"},M={class:"flex-between-center"},G={class:"flex-co-between-center"},O={class:"font-4"},j={class:"font-5"},Y={class:"flex-co-between-center"},P={class:"font-4"},q={class:"flex-co-between-center font-3"},J={class:"mt-10"},K={class:"mt-10"},Q={class:"t-card mt-10"},Z={class:"flex-between-center"},ee={class:"font-1"},te={class:"font-3"},ae={class:"range-c"},ne={class:"range-t"},oe={class:"flex-between-center"},ce={class:"flex-co-between-center"},se={class:"font-4"},ie={class:"font-5"},re={class:"flex-co-between-center"},le={class:"font-4"},de={class:"flex-co-between-center font-3"},ue={class:"mt-10"},me={class:"mt-10"},fe={class:"tabs-box"},he={class:"tabs-list"},be={class:"t-card mt-10 pb-15"},ge={class:"tabs"},pe={class:"font-2"},ve={class:"tabs-b"},we={class:"font-2"},ze={class:"font-2"},Ae={key:2,class:"tips"},_e={key:3,class:"tips"},ye={key:4,class:"flex-between-center center mt-10"},Re={class:"tabs"},xe={class:"flex-between-center"},ke={class:"font-2"},$e={class:"font-3"},Ee={class:"font-2 mt-15"},De={class:"font-2 flex-between-center center mt-15"},Te=V((()=>r("span",{class:"flex-1"},null,-1))),Be={class:"pop-content"},Ne={class:"tabs-box"},Fe={class:"tabs-list"},Ve=V((()=>r("div",{class:"tabs-box-ph"},null,-1))),Ce={key:0,class:"table-list"},Ue={class:"flex-between-center center font-2"},Xe={class:"flex-between-center center mt-10 font-3"},Le={key:1,class:"table-list"},We={class:"flex-between-center center font-2"},Se={class:"flex-between-center center mt-10 font-3"},Ie={class:"select-container"},He={class:"select-title"},Me=V((()=>r("div",{class:"select-placeholder"},null,-1))),Ge={key:0,class:"select-content"},Oe=["onClick"],je={class:"select-item_left"},Ye={class:"select-item_left-top"},Pe={class:"select-item_left-bottom"},qe={key:1,class:"select-content"},Je=["onClick"],Ke={class:"select-item_left"},Qe={class:"select-item_left-top"},Ze={class:"select-item_left-bottom"};e("default",t(F,[["render",function(e,t,a,n,_,y){const R=o("router-link"),x=o("van-divider"),k=o("van-radio"),$=o("van-radio-group"),E=o("van-field"),D=o("van-button"),T=o("van-icon"),B=o("van-count-down"),N=o("van-action-sheet"),F=o("van-empty"),V=c("copy");return s(),i(b,null,[r("div",C,[l(R,{to:"/tron_v1",class:"link"},{default:d((()=>[v(u(e.$t("switch"))+" Stake1.0 >",1)])),_:1})]),r("div",U,[r("div",X,[r("div",L,[r("span",W,u(e.$t("bandwidth")),1),r("span",S,u(e.$t("price"))+": "+u(e.$f.formatNumber2(y.BPrice))+" B/TRX",1)]),l(x,{style:{"--van-divider-margin":"0.2rem 0"}}),r("div",I,[r("div",{class:"range-v",style:m({width:y.pB+"%"})},null,4),r("div",H,u(e.$t("available"))+": "+u(e.$f.formatNumber2(y.totalB))+"/"+u(e.$f.formatNumber2(y.totalAllB))+"B",1)]),r("div",M,[r("div",G,[r("div",O,u(e.$t("frozen")),1),r("div",j,u(e.$f.formatNumber2(y.totalFrozenBTRX))+" TRX",1)]),r("div",Y,[r("div",P,u(e.$t("undelegated")),1),r("div",{class:"font-5 link",onClick:t[0]||(t[0]=f((e=>y.showDelegateHistory(1)),["stop"]))},u(e.$f.formatNumber2(_.utils.formatUnits(_.canUndelegatedBAmount,6)))+" TRX >",1)]),r("div",q,[r("div",null,u(e.$t("delegateSelf"))+": "+u(e.$f.formatNumber2(y.frozenBTRX))+" TRX",1),r("div",J,u(e.$t("delegateOthers"))+": "+u(e.$f.formatNumber2(y.frozenBTRXOther))+" TRX",1),r("div",K,u(e.$t("delegateFromOthers"))+": "+u(e.$f.formatNumber2(y.frozenBTRXFromOther))+" TRX",1)])])]),r("div",Q,[r("div",Z,[r("span",ee,u(e.$t("energy")),1),r("span",te,u(e.$t("price"))+": "+u(e.$f.formatNumber2(y.EnergyPrice))+" µs/TRX",1)]),l(x,{style:{"--van-divider-margin":"0.2rem 0"}}),r("div",ae,[r("div",{class:"range-v",style:m({width:y.pE+"%"})},null,4),r("div",ne,u(e.$t("available"))+": "+u(e.$f.formatNumber2(y.EnergyBalance))+"/"+u(e.$f.formatNumber2(_.accountResource.EnergyLimit||0))+"µs",1)]),r("div",oe,[r("div",ce,[r("div",se,u(e.$t("frozen")),1),r("div",ie,u(e.$f.formatNumber2(y.totalFrozenETRX))+" TRX",1)]),r("div",re,[r("div",le,u(e.$t("undelegated")),1),r("div",{class:"font-5 link",onClick:t[1]||(t[1]=f((e=>y.showDelegateHistory(2)),["stop"]))},u(e.$f.formatNumber2(_.utils.formatUnits(_.canUndelegatedEAmount,6)))+" TRX >",1)]),r("div",de,[r("div",null,u(e.$t("delegateSelf"))+": "+u(e.$f.formatNumber2(y.frozenETRX))+" TRX",1),r("div",ue,u(e.$t("delegateOthers"))+": "+u(e.$f.formatNumber2(y.frozenETRXOther))+" TRX",1),r("div",me,u(e.$t("delegateFromOthers"))+": "+u(e.$f.formatNumber2(y.frozenETRXFromOther))+" TRX",1)])])]),r("div",fe,[r("div",he,[r("button",{class:h({active:1===_.tabActive3}),onClick:t[2]||(t[2]=f((e=>_.tabActive3=1),["stop"]))},u(e.$t("stakingManagement")),3),r("button",{class:h({active:2===_.tabActive3}),onClick:t[3]||(t[3]=f((e=>_.tabActive3=2),["stop"]))},u(e.$t("resourceManagement")),3)])]),r("div",be,[1===_.tabActive3?(s(),i(b,{key:0},[r("div",ge,[l($,{modelValue:_.tabActive4,"onUpdate:modelValue":t[4]||(t[4]=e=>_.tabActive4=e),direction:"horizontal","icon-size":"0.4rem","checked-color":"#3F80F7"},{default:d((()=>[l(k,{name:1},{default:d((()=>[v(u(e.$t("freeze")),1)])),_:1}),l(k,{name:2},{default:d((()=>[v(u(e.$t("unfrozen")),1)])),_:1})])),_:1},8,["modelValue"])]),r("div",null,[r("span",pe,u(e.$t("selectFreezeType")),1)]),r("div",ve,[r("button",{class:h({active:"BANDWIDTH"===_.resource}),type:"button",onClick:t[5]||(t[5]=f((e=>_.resource="BANDWIDTH"),["stop"]))},u(e.$t("bandwidth")),3),r("button",{class:h({active:"ENERGY"===_.resource}),type:"button",onClick:t[6]||(t[6]=f((e=>_.resource="ENERGY"),["stop"]))},u(e.$t("energy")),3)]),1===_.tabActive4?(s(),i(b,{key:0},[r("div",we,u(e.$t("balance"))+": "+u(_.utils.formatUnits(_.account?.balance||0,6))+" TRX",1),l(E,{class:"input-n",modelValue:_.frozenAmount,"onUpdate:modelValue":t[7]||(t[7]=e=>_.frozenAmount=e),label:"",clearable:"",placeholder:e.$t("plsEnterAmount"),type:"number"},{button:d((()=>[v("TRX")])),_:1},8,["modelValue","placeholder"])],64)):g("",!0),2===_.tabActive4?(s(),i(b,{key:1},[r("div",ze,u(e.$t("unfreezable"))+": "+u(e.$f.formatNumber2("BANDWIDTH"===_.resource?y.unfreezableBTRX||0:y.unfreezableETRX||0))+" TRX",1),l(E,{class:"input-n",modelValue:_.unfrozenAmount,"onUpdate:modelValue":t[8]||(t[8]=e=>_.unfrozenAmount=e),label:"",clearable:"",placeholder:e.$t("plsEnterAmount"),type:"number"},{button:d((()=>[v("TRX")])),_:1},8,["modelValue","placeholder"])],64)):g("",!0),1===_.tabActive4?(s(),i("div",Ae,u(e.$t("stakeTips")),1)):g("",!0),2===_.tabActive4?(s(),i("div",_e,u(e.$t("unStakeTips")),1)):g("",!0),2===_.tabActive4?(s(),i("div",ye,[r("span",null,u(e.$t("withdrawable"))+": "+u(e.$f.formatNumber2(_.utils.formatUnits(_.canWithdrawUnFreezeAmount,6)))+" TRX",1),(_.canWithdrawUnFreezeAmount??0)<=0?(s(),p(D,{key:0,type:"default",size:"small",round:"",class:"button-1",disabled:(_.canWithdrawUnFreezeAmount??0)<=0},{default:d((()=>[v(u(e.$t("withdraw")),1)])),_:1},8,["disabled"])):(s(),p(D,{key:1,color:"#3F80F7",size:"small",round:"",class:"button-1",disabled:(_.canWithdrawUnFreezeAmount??0)<=0,onClick:y.withdrawExpireUnfreeze},{default:d((()=>[v(u(e.$t("withdraw")),1)])),_:1},8,["disabled","onClick"]))])):g("",!0)],64)):g("",!0),2===_.tabActive3?(s(),i(b,{key:1},[r("div",Re,[l($,{modelValue:_.resource1,"onUpdate:modelValue":t[9]||(t[9]=e=>_.resource1=e),direction:"horizontal","icon-size":"0.4rem","checked-color":"#3F80F7"},{default:d((()=>[l(k,{name:"BANDWIDTH"},{default:d((()=>[v(u(e.$t("bandwidth")),1)])),_:1}),l(k,{name:"ENERGY"},{default:d((()=>[v(u(e.$t("energy")),1)])),_:1})])),_:1},8,["modelValue"])]),r("div",xe,[r("span",ke,u(e.$t("delegateTo")),1),r("button",{class:"link",onClick:t[10]||(t[10]=f((e=>y.showDelegateHistory(1)),["stop"]))},u(e.$t("delegateHistory")),1)]),l(E,{class:"input-n",modelValue:_.delegateAmount,"onUpdate:modelValue":t[11]||(t[11]=e=>_.delegateAmount=e),label:"",clearable:"",placeholder:e.$t("plsEnterDelegatedAmount"),type:"number"},{button:d((()=>[v("TRX")])),_:1},8,["modelValue","placeholder"]),r("div",$e,u(e.$t("delegable"))+": "+u("BANDWIDTH"===_.resource1?e.$f.formatNumber2(_.utils.formatUnits(_.canDelegatedMaxSizeB,6)):e.$f.formatNumber2(_.utils.formatUnits(_.canDelegatedMaxSizeE,6)))+" TRX",1),r("div",Ee,u(e.$t("receivingAccount")),1),l(E,{class:"input-n",modelValue:_.receiverAddress,"onUpdate:modelValue":t[13]||(t[13]=e=>_.receiverAddress=e),label:"",clearable:"",placeholder:e.$t("plsEnterReceiveAccount")},{"right-icon":d((()=>[_.isAppGetContactList?(s(),i("img",{key:0,src:"/assets/c.b90ca9b2.svg",style:{height:"0.36rem"},class:"clickable",alt:"",srcset:"",onClick:t[12]||(t[12]=f((e=>_.show1=!0),["stop"]))})):g("",!0)])),_:1},8,["modelValue","placeholder"]),r("div",De,[r("span",null,u(e.$t("withLockUpPeriod")),1),l(T,{class:"ml-5 icon-tips",name:"question-o",color:"#A4A4A4",size:"0.32rem",onClick:t[14]||(t[14]=f((t=>e.$dialog.alert({title:e.$t("tips"),message:e.$t("lockTips"),confirmButtonText:this.$t("confirm1"),confirmButtonColor:"#3F80F7"})),["stop"]))}),Te,l($,{modelValue:_.lock,"onUpdate:modelValue":t[15]||(t[15]=e=>_.lock=e),direction:"horizontal","icon-size":"0.4rem","checked-color":"#3F80F7"},{default:d((()=>[l(k,{name:!0},{default:d((()=>[v(u(e.$t("yes")),1)])),_:1}),l(k,{name:!1},{default:d((()=>[v(u(e.$t("no")),1)])),_:1})])),_:1},8,["modelValue"])])],64)):g("",!0)]),l(D,{class:"btn-36",round:"",block:"",color:"#3F80F7",size:"small",disabled:y.disabled,loading:_.loading,onClick:f(y.onSubmit,["stop"])},{default:d((()=>[v(u(y.errMessage||e.$t("confirm")),1)])),_:1},8,["disabled","loading","onClick"])]),l(N,{show:_.show,"onUpdate:show":t[18]||(t[18]=e=>_.show=e),title:e.$t("delegateHistory1"),style:{height:"60%","--van-popup-background-color":"#fff"}},{default:d((()=>[r("div",Be,[r("div",Ne,[r("div",Fe,[r("button",{class:h({active:1===_.tabActive5}),onClick:t[16]||(t[16]=f((e=>_.tabActive5=1),["stop"]))},u(e.$t("bandwidth")),3),r("button",{class:h({active:2===_.tabActive5}),onClick:t[17]||(t[17]=f((e=>_.tabActive5=2),["stop"]))},u(e.$t("energy")),3)])]),Ve,1===_.tabActive5?(s(),i("ul",Ce,[(s(!0),i(b,null,w(_.delegatedResourceV2List.filter((e=>e?.frozen_balance_for_bandwidth)),((t,a)=>(s(),i("li",{key:a},[r("div",Ue,[r("span",null,u(e.$t("bandwidthDelegation")),1),r("span",null,u(e.$f.formatNumber2(_.utils.formatUnits(t?.frozen_balance_for_bandwidth||0,6)))+" TRX",1)]),r("div",Xe,[r("span",null,u(e.$t("receiveAddress"))+": "+u(t?.to?t?.to?.slice(0,6)+"..."+t?.to?.slice(-4):""),1),y.formatIsExpire(t)?(s(),p(D,{key:1,class:"btn-s",type:"primary",size:"mini",round:"",color:"#3F80F7",disabled:!y.formatIsExpire(t),loading:_.loading1,onClick:f((e=>y.unDelegateResource(t?.frozen_balance_for_bandwidth||0,"BANDWIDTH",t?.to)),["stop"])},{default:d((()=>[v(u(e.$t("undelegate")),1)])),_:2},1032,["disabled","loading","onClick"])):(s(),p(B,{key:0,time:y.getExpire(t),format:`DD${e.$t("days")} HH:mm:ss`,class:"count-down"},null,8,["time","format"]))])])))),128))])):g("",!0),2===_.tabActive5?(s(),i("ul",Le,[(s(!0),i(b,null,w(_.delegatedResourceV2List.filter((e=>e?.frozen_balance_for_energy)),((t,a)=>(s(),i("li",{key:a},[r("div",We,[r("span",null,u(e.$t("energyDelegation")),1),r("span",null,u(e.$f.formatNumber2(_.utils.formatUnits(t?.frozen_balance_for_energy||0,6)))+" TRX",1)]),r("div",Se,[r("span",null,u(e.$t("receiveAddress"))+": "+u(t?.to?t?.to?.slice(0,6)+"..."+t?.to?.slice(-4):""),1),y.formatIsExpire(t,"energy")?(s(),p(D,{key:1,class:"btn-s",type:"primary",size:"mini",round:"",color:"#3F80F7",disabled:!y.formatIsExpire(t,"energy"),loading:_.loading1,onClick:f((e=>y.unDelegateResource(t?.frozen_balance_for_energy||0,"ENERGY",t?.to)),["stop"])},{default:d((()=>[v(u(e.$t("undelegate")),1)])),_:2},1032,["disabled","loading","onClick"])):(s(),p(B,{key:0,time:y.getExpire(t,"energy"),format:`DD${e.$t("days")} HH:mm:ss`,class:"count-down"},null,8,["time","format"]))])])))),128))])):g("",!0)])])),_:1},8,["show","title"]),l(N,{show:_.show1,"onUpdate:show":t[23]||(t[23]=e=>_.show1=e),title:" ",style:{height:"50%","--van-popup-background-color":"#fff"},class:"select-action-pop"},{default:d((()=>[r("div",Ie,[r("div",He,[r("button",{class:h({active:"contact"===_.tabActive}),onClick:t[19]||(t[19]=f((e=>_.tabActive="contact"),["stop"]))},u(e.$t("contacts")),3),r("button",{class:h({active:"wallet"===_.tabActive}),onClick:t[20]||(t[20]=f((e=>_.tabActive="wallet"),["stop"]))},u(e.$t("myWallet")),3)]),Me,"contact"===_.tabActive?(s(),i("ul",Ge,[(s(!0),i(b,null,w(_.accounts.contact,((e,a)=>(s(),i("li",{key:a,class:"select-item clickable",onClick:f((t=>y.handleSelectAccount(e)),["stop"])},[r("div",je,[r("div",Ye,u(e?.contact_name||""),1),r("div",Pe,[r("span",null,u(e?.contact_address?e?.contact_address?.slice?.(0,10)+"..."+e?.contact_address?.slice?.(-5):""),1),z(r("i",{class:"iconfont icon-copy clickable",onClick:t[21]||(t[21]=f((()=>{}),["stop"]))},null,512),[[V,e?.contact_address||""]])])]),e?.contact_address?.toLowerCase?.()===_.receiverAddress?.toLowerCase?.()?(s(),p(T,{key:0,size:"0.32rem",color:"#3F80F7",name:"success"})):g("",!0)],8,Oe)))),128)),z(l(F,{class:"empty",image:e.emptyNoDataLight,description:e.$t("emptyData")},null,8,["image","description"]),[[A,_.accounts?.contact&&0===_.accounts?.contact?.length]])])):g("",!0),"wallet"===_.tabActive?(s(),i("ul",qe,[(s(!0),i(b,null,w(_.accounts.wallet,((a,n)=>(s(),i("li",{key:n,class:"select-item clickable",onClick:f((e=>y.handleSelectAccount(a)),["stop"])},[r("div",Ke,[r("div",Qe,u(a?.contact_name||""),1),r("div",Ze,[r("span",null,u(a?.contact_address?a?.contact_address?.slice?.(0,10)+"..."+a?.contact_address?.slice?.(-5):""),1),z(r("i",{class:"iconfont icon-copy clickable",onClick:t[22]||(t[22]=f((()=>{}),["stop"]))},null,512),[[V,a?.contact_address||""]])])]),a?.contact_address?.toLowerCase?.()===e.toAddress?.toLowerCase?.()?(s(),p(T,{key:0,size:"0.32rem",color:"#3F80F7",name:"success"})):g("",!0)],8,Je)))),128)),z(l(F,{class:"empty",image:e.emptyNoDataLight,description:e.$t("emptyData")},null,8,["image","description"]),[[A,_.accounts?.wallet&&0===_.accounts?.wallet?.length]])])):g("",!0)])])),_:1},8,["show"])],64)}],["__scopeId","data-v-2bed73ca"]]))}}}))}();
