import{bq as Dt,br as ke,bs as P,bt as Ee,bu as Xt,s as at,bv as te,bw as Ce,bx as Te,a3 as C,by as Be,bz as it,bA as Pt,bB as Se,bC as Ie,bD as ee,_ as xt,r as U,o as S,c as N,i as b,F as pt,e as W,k as G,t as v,p as Q,b as D,w as J,x as ot,z as wt,d as ne,m as Lt,q as Gt,u as zt,n as Ot,l as bt,bE as Ne,v as Pe}from"./index.ac3816d8.js";import{f as oe,a as Jt}from"./ethers.79ca03ff.js";async function Le(t,e,o){if(!o)return t==null?void 0:t.map(()=>"0");let{_provider:i}=Dt(e);const n=new ke;await n.init(i);let s=t.filter(a=>a!==P).map(a=>new Ee(a,Xt).balanceOf(o)),r=await n.tryAll(s),c=t.findIndex(a=>a===P);if(c>=0){let a=0;try{a=o?await i.getBalance(o):0}catch(l){console.log(l)}r.splice(c,0,a)}return r.map(a=>a!==null?a.toString():"0")}function Me(t,e){return!t||!e?Promise.resolve([]):at({method:"get",url:"/v1api/v3/users/balance/token",params:{address:e,chain:t}})}function Re(t,e,o,i=3,n=6){return at({method:"get",url:"/v1api/v2/aveswap/getBestRoute_v2",params:{from_token:t,to_token:e,chain:o,max_hops:i,max_routes:n,protocol:"v3"}})}function Qt(t){if(!t)return Promise.resolve(0);let{_provider:e}=Dt(t);return e.getGasPrice()}function Ue(t){return at({method:"post",url:"/v1api/v2/aveswap/price4h5",data:{token_ids:t}})}function Yt(t){if(!t)return Promise.resolve(0);let o={eth:"0xc02aaa39b223fe8d0a0e5c4f27ead9083c756cc2-eth",bsc:"0xbb4cdb9cbd36b01bd1cbaebf2de08d9173bc095c-bsc",oec:"0x8f8526dbfd6e38e3d8307702ca8469bae6c56c15-oec",heco:"0x5545153ccfca01fbd7dd11c0b23ba694d9509a6f-heco",polygon:"0x0d500b1d8e8ef31e21c99d1db9a6444d3adf1270-polygon",optimism:"0x4200000000000000000000000000000000000006-optimism",arbitrum:"0x82af49447d8a07e3bd95bd0d56f35241523fbab1-arbitrum",avalanche:"0xb31f66aa3c1e785363f0875a1b74e27b85fd66c7-avalanche",fantom:"0x21be370d5312f44cb42ce377bc9b8a0cef1a4c83-fantom",fsc:"0xb582fd9d0d5c3515eeb6b02ff2d6ee0b6e45e7a7-fsc",telegramx:"0x68909fea4ca0e80247da6b974c10f225696e00d6-telegramx",drac:"0xc32dd456091f07d09c630043c560788ffccbe77f-drac",shj:"0x2cde29a6334e467b7b903e9f53051e964d64dfd0-shj",core:"0x40375c92d9faf44d2f9db9bd9ba41a3317a2404f-core",arbitrum:"0x82af49447d8a07e3bd95bd0d56f35241523fbab1-arbitrum",zksync:"0x5aea5775959fbc2557cc8789bc1bf90a239d9a91-zksync"}[t]||P+"-"+t;return Ue([o]).then(async i=>{var n;return((n=i==null?void 0:i[o])==null?void 0:n.current_price_usd)||0})}async function Fe({from_token:t,to_token:e,amountIn:o,amountOut:i},n,s,r=3,c=3){let{_provider:a,chainInfo:l}=Dt(n),u=s||(l==null?void 0:l.wmainWrapper),d=l==null?void 0:l.mainName,m=l==null?void 0:l.wmainName,f=t,p=e||P,w=!1,T=!1,y=!1,A=!1;return f===u&&(y=!0),p===u&&(A=!0),f===P&&(f=u,w=!0),p===P&&(p=u,T=!0),y&&T||w&&A?Promise.resolve([{toWrapper:w&&A?1:2,wrapper:u,amount:o==="0"||!o?i:o,routerPath:[{address:w?P:u,amount:o==="0"||!o?i:o,decimals:18,isETH:w,isWrapper:y,symbol:w?d:m},{address:T?P:u,amount:i==="0"||!i?o:i,decimals:18,isETH:T,isWrapper:A,symbol:T?d:m}]}]):Re(f,p,n,r,c).then(g=>{if(console.log("bestRouter",g),(g==null?void 0:g.length)===0)return Promise.reject({code:"noMatchingRoute"});let h=g[0],k=new te(Ce[n],Te,a);if(!h.pair_path||!h.pair_path===0||!h.token_path||h.token_path.length===0)return Promise.resolve({routerPath:[],routerPairPath:[]});let B=h.pair_path.map(E=>({pair:E.pair,tokenIn:E.token_in,tokenOut:E.token_out,router:E.amm_router}));return Number(o)?(console.log("amountIn"),k.callStatic.getAmountsOut(B,o).then(async E=>{var dt;let _=h.token_path.map((nt,ve)=>({...nt,amount:E[ve].toString()}));w&&(_[0].isETH=w,_[0].symbol=d),T&&(_[_.length-1].isETH=T,_[_.length-1].symbol=d);let M=0;M=new C(h.total_buy_tax||0).plus(h.total_sell_tax||0)||new C(0);let I=new C("430000");(h.total_sell_tax||0)>0?I=I.times(2):M.gt(0)&&(I=I.times(1.5));let L=E==null?void 0:E[_.length-1],z=new C(h.to_price.toString()),R=(dt=_[_.length-1])==null?void 0:dt.decimals,V=await Qt(n),et=await Yt(n),Y=new C(et.toString()),j=new C(V.toString()).times(Y).times(I.toString()).div(z).times(10**(R-18)).toFixed(0),ut=new C(L.toString()).times(new C(100).minus(M)).div(100),H=new C(L.toString()).times(new C(100).minus(M)).div(100);H.gt(j)&&(H=H.minus(j));let O=new C(V.toString()).times(Y).times(I.toString()).div(10**18).toFixed();return console.log("gasPrice",V.toString()),console.log("gas",I.toString()),console.log("gas $",new C(V.toString()).times(Y).times(I.toString()).div(10**18).toFixed()),console.log("nativePrice",et),console.log("toPrice",z.toString()),console.log("realAmountOut",H.toString()),console.log("gasAmount",j),_[_.length-1].amount=H.toFixed(0),_=_.map(nt=>({...nt,address:nt.isETH?P:nt.address})),_[0].price=h.from_price,_[_.length-1].price=h.to_price,{routerPath:_,routerPairPath:B,...h,totalTax:Math.max(M,0),isAmountOut:!1,gasAmount:j.toString(),realAmountOut:ut.toFixed(),gasU:O}})):i?(console.log("amountOut"),k.callStatic.getAmountsIn(B,i).then(async E=>{var H;let _=h.token_path.map((O,dt)=>({...O,amount:E[dt].toString()}));w&&(_[0].isETH=w,_[0].symbol=d),T&&(_[_.length-1].isETH=T,_[_.length-1].symbol=d);let M=E==null?void 0:E[0],I=0;I=new C(h.total_buy_tax||0).plus(h.total_sell_tax||0)||new C(0);let L=new C("430000");(h.total_sell_tax||0)>0?L=L.times(2):I.gt(0)&&(L=L.times(1.5));let z=(H=_[0])==null?void 0:H.decimals,R=await Qt(n),V=await Yt(n),et=new C(V.toString()),Y=new C(h.from_price.toString()),j=new C(R.toString()).times(et).times(L.toString()).div(Y).times(10**(z-18)).toFixed(0),ut=new C(M.toString()).div(new C(100).minus(I)).times(100).plus(j);return console.log("gasPrice",R.toString()),console.log("gas",L.toString()),console.log("gas $",new C(R.toString()).times(et).times(L.toString()).div(10**18).toFixed()),console.log("nativePrice",V),console.log("fromPrice",Y.toString()),console.log("realAmountIn",ut.toString()),console.log("gasAmount",j),_[0].amount=ut.toFixed(0),_=_.map(O=>({...O,address:O.isETH?P:O.address})),_[0].price=h.from_price,_[_.length-1].price=h.to_price,{routerPath:_,routerPairPath:B,...h,totalTax:Math.max(I,0),isAmountOut:!0,gas:L.toString()}})):Promise.resolve({routerPath:[],routerPairPath:[]})})}async function De({token:t,to:e,amount:o}){let i=Be(),n=await i.getGasPrice();return(await new te(t,Xt,i).estimateGas.transfer(e,o)).mul(n)}function xe(t){return at({method:"get",url:"/v1api/v2/aveswap/limitorder/getNoGasList",params:t}).then(e=>Promise.resolve(e))}function Ge(){return at({method:"get",url:"/v1api/v2/aveswap/limitorder/getContracts"}).then(t=>{let e=t,o={};if(Array.isArray(e))e.forEach(i=>{i.chain&&i.limit_order_address&&(o[i.chain]=i.limit_order_address)});else return it.set("ave_limitContracts",Pt),Promise.resolve(Pt);return it.set("ave_limitContracts",o),Promise.resolve(o)})}var ct={},ze=function(){return typeof Promise=="function"&&Promise.prototype&&Promise.prototype.then},se={},F={};let Ht;const He=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];F.getSymbolSize=function(e){if(!e)throw new Error('"version" cannot be null or undefined');if(e<1||e>40)throw new Error('"version" should be in range from 1 to 40');return e*4+17};F.getSymbolTotalCodewords=function(e){return He[e]};F.getBCHDigit=function(t){let e=0;for(;t!==0;)e++,t>>>=1;return e};F.setToSJISFunction=function(e){if(typeof e!="function")throw new Error('"toSJISFunc" is not a valid function.');Ht=e};F.isKanjiModeEnabled=function(){return typeof Ht!="undefined"};F.toSJIS=function(e){return Ht(e)};var _t={};(function(t){t.L={bit:1},t.M={bit:0},t.Q={bit:3},t.H={bit:2};function e(o){if(typeof o!="string")throw new Error("Param is not a string");switch(o.toLowerCase()){case"l":case"low":return t.L;case"m":case"medium":return t.M;case"q":case"quartile":return t.Q;case"h":case"high":return t.H;default:throw new Error("Unknown EC Level: "+o)}}t.isValid=function(i){return i&&typeof i.bit!="undefined"&&i.bit>=0&&i.bit<4},t.from=function(i,n){if(t.isValid(i))return i;try{return e(i)}catch{return n}}})(_t);function ie(){this.buffer=[],this.length=0}ie.prototype={get:function(t){const e=Math.floor(t/8);return(this.buffer[e]>>>7-t%8&1)===1},put:function(t,e){for(let o=0;o<e;o++)this.putBit((t>>>e-o-1&1)===1)},getLengthInBits:function(){return this.length},putBit:function(t){const e=Math.floor(this.length/8);this.buffer.length<=e&&this.buffer.push(0),t&&(this.buffer[e]|=128>>>this.length%8),this.length++}};var $e=ie;function lt(t){if(!t||t<1)throw new Error("BitMatrix size must be defined and greater than 0");this.size=t,this.data=new Uint8Array(t*t),this.reservedBit=new Uint8Array(t*t)}lt.prototype.set=function(t,e,o,i){const n=t*this.size+e;this.data[n]=o,i&&(this.reservedBit[n]=!0)};lt.prototype.get=function(t,e){return this.data[t*this.size+e]};lt.prototype.xor=function(t,e,o){this.data[t*this.size+e]^=o};lt.prototype.isReserved=function(t,e){return this.reservedBit[t*this.size+e]};var Ke=lt,re={};(function(t){const e=F.getSymbolSize;t.getRowColCoords=function(i){if(i===1)return[];const n=Math.floor(i/7)+2,s=e(i),r=s===145?26:Math.ceil((s-13)/(2*n-2))*2,c=[s-7];for(let a=1;a<n-1;a++)c[a]=c[a-1]-r;return c.push(6),c.reverse()},t.getPositions=function(i){const n=[],s=t.getRowColCoords(i),r=s.length;for(let c=0;c<r;c++)for(let a=0;a<r;a++)c===0&&a===0||c===0&&a===r-1||c===r-1&&a===0||n.push([s[c],s[a]]);return n}})(re);var ae={};const Ve=F.getSymbolSize,Wt=7;ae.getPositions=function(e){const o=Ve(e);return[[0,0],[o-Wt,0],[0,o-Wt]]};var ce={};(function(t){t.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};const e={N1:3,N2:3,N3:40,N4:10};t.isValid=function(n){return n!=null&&n!==""&&!isNaN(n)&&n>=0&&n<=7},t.from=function(n){return t.isValid(n)?parseInt(n,10):void 0},t.getPenaltyN1=function(n){const s=n.size;let r=0,c=0,a=0,l=null,u=null;for(let d=0;d<s;d++){c=a=0,l=u=null;for(let m=0;m<s;m++){let f=n.get(d,m);f===l?c++:(c>=5&&(r+=e.N1+(c-5)),l=f,c=1),f=n.get(m,d),f===u?a++:(a>=5&&(r+=e.N1+(a-5)),u=f,a=1)}c>=5&&(r+=e.N1+(c-5)),a>=5&&(r+=e.N1+(a-5))}return r},t.getPenaltyN2=function(n){const s=n.size;let r=0;for(let c=0;c<s-1;c++)for(let a=0;a<s-1;a++){const l=n.get(c,a)+n.get(c,a+1)+n.get(c+1,a)+n.get(c+1,a+1);(l===4||l===0)&&r++}return r*e.N2},t.getPenaltyN3=function(n){const s=n.size;let r=0,c=0,a=0;for(let l=0;l<s;l++){c=a=0;for(let u=0;u<s;u++)c=c<<1&2047|n.get(l,u),u>=10&&(c===1488||c===93)&&r++,a=a<<1&2047|n.get(u,l),u>=10&&(a===1488||a===93)&&r++}return r*e.N3},t.getPenaltyN4=function(n){let s=0;const r=n.data.length;for(let a=0;a<r;a++)s+=n.data[a];return Math.abs(Math.ceil(s*100/r/5)-10)*e.N4};function o(i,n,s){switch(i){case t.Patterns.PATTERN000:return(n+s)%2===0;case t.Patterns.PATTERN001:return n%2===0;case t.Patterns.PATTERN010:return s%3===0;case t.Patterns.PATTERN011:return(n+s)%3===0;case t.Patterns.PATTERN100:return(Math.floor(n/2)+Math.floor(s/3))%2===0;case t.Patterns.PATTERN101:return n*s%2+n*s%3===0;case t.Patterns.PATTERN110:return(n*s%2+n*s%3)%2===0;case t.Patterns.PATTERN111:return(n*s%3+(n+s)%2)%2===0;default:throw new Error("bad maskPattern:"+i)}}t.applyMask=function(n,s){const r=s.size;for(let c=0;c<r;c++)for(let a=0;a<r;a++)s.isReserved(a,c)||s.xor(a,c,o(n,a,c))},t.getBestMask=function(n,s){const r=Object.keys(t.Patterns).length;let c=0,a=1/0;for(let l=0;l<r;l++){s(l),t.applyMask(l,n);const u=t.getPenaltyN1(n)+t.getPenaltyN2(n)+t.getPenaltyN3(n)+t.getPenaltyN4(n);t.applyMask(l,n),u<a&&(a=u,c=l)}return c}})(ce);var vt={};const $=_t,ft=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],ht=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];vt.getBlocksCount=function(e,o){switch(o){case $.L:return ft[(e-1)*4+0];case $.M:return ft[(e-1)*4+1];case $.Q:return ft[(e-1)*4+2];case $.H:return ft[(e-1)*4+3];default:return}};vt.getTotalCodewordsCount=function(e,o){switch(o){case $.L:return ht[(e-1)*4+0];case $.M:return ht[(e-1)*4+1];case $.Q:return ht[(e-1)*4+2];case $.H:return ht[(e-1)*4+3];default:return}};var le={},kt={};const st=new Uint8Array(512),yt=new Uint8Array(256);(function(){let e=1;for(let o=0;o<255;o++)st[o]=e,yt[e]=o,e<<=1,e&256&&(e^=285);for(let o=255;o<512;o++)st[o]=st[o-255]})();kt.log=function(e){if(e<1)throw new Error("log("+e+")");return yt[e]};kt.exp=function(e){return st[e]};kt.mul=function(e,o){return e===0||o===0?0:st[yt[e]+yt[o]]};(function(t){const e=kt;t.mul=function(i,n){const s=new Uint8Array(i.length+n.length-1);for(let r=0;r<i.length;r++)for(let c=0;c<n.length;c++)s[r+c]^=e.mul(i[r],n[c]);return s},t.mod=function(i,n){let s=new Uint8Array(i);for(;s.length-n.length>=0;){const r=s[0];for(let a=0;a<n.length;a++)s[a]^=e.mul(n[a],r);let c=0;for(;c<s.length&&s[c]===0;)c++;s=s.slice(c)}return s},t.generateECPolynomial=function(i){let n=new Uint8Array([1]);for(let s=0;s<i;s++)n=t.mul(n,new Uint8Array([1,e.exp(s)]));return n}})(le);const ue=le;function $t(t){this.genPoly=void 0,this.degree=t,this.degree&&this.initialize(this.degree)}$t.prototype.initialize=function(e){this.degree=e,this.genPoly=ue.generateECPolynomial(this.degree)};$t.prototype.encode=function(e){if(!this.genPoly)throw new Error("Encoder not initialized");const o=new Uint8Array(e.length+this.degree);o.set(e);const i=ue.mod(o,this.genPoly),n=this.degree-i.length;if(n>0){const s=new Uint8Array(this.degree);return s.set(i,n),s}return i};var je=$t,de={},K={},Kt={};Kt.isValid=function(e){return!isNaN(e)&&e>=1&&e<=40};var x={};const fe="[0-9]+",Oe="[A-Z $%*+\\-./:]+";let rt="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+";rt=rt.replace(/u/g,"\\u");const Je="(?:(?![A-Z0-9 $%*+\\-./:]|"+rt+`)(?:.|[\r
]))+`;x.KANJI=new RegExp(rt,"g");x.BYTE_KANJI=new RegExp("[^A-Z0-9 $%*+\\-./:]+","g");x.BYTE=new RegExp(Je,"g");x.NUMERIC=new RegExp(fe,"g");x.ALPHANUMERIC=new RegExp(Oe,"g");const Qe=new RegExp("^"+rt+"$"),Ye=new RegExp("^"+fe+"$"),We=new RegExp("^[A-Z0-9 $%*+\\-./:]+$");x.testKanji=function(e){return Qe.test(e)};x.testNumeric=function(e){return Ye.test(e)};x.testAlphanumeric=function(e){return We.test(e)};(function(t){const e=Kt,o=x;t.NUMERIC={id:"Numeric",bit:1<<0,ccBits:[10,12,14]},t.ALPHANUMERIC={id:"Alphanumeric",bit:1<<1,ccBits:[9,11,13]},t.BYTE={id:"Byte",bit:1<<2,ccBits:[8,16,16]},t.KANJI={id:"Kanji",bit:1<<3,ccBits:[8,10,12]},t.MIXED={bit:-1},t.getCharCountIndicator=function(s,r){if(!s.ccBits)throw new Error("Invalid mode: "+s);if(!e.isValid(r))throw new Error("Invalid version: "+r);return r>=1&&r<10?s.ccBits[0]:r<27?s.ccBits[1]:s.ccBits[2]},t.getBestModeForData=function(s){return o.testNumeric(s)?t.NUMERIC:o.testAlphanumeric(s)?t.ALPHANUMERIC:o.testKanji(s)?t.KANJI:t.BYTE},t.toString=function(s){if(s&&s.id)return s.id;throw new Error("Invalid mode")},t.isValid=function(s){return s&&s.bit&&s.ccBits};function i(n){if(typeof n!="string")throw new Error("Param is not a string");switch(n.toLowerCase()){case"numeric":return t.NUMERIC;case"alphanumeric":return t.ALPHANUMERIC;case"kanji":return t.KANJI;case"byte":return t.BYTE;default:throw new Error("Unknown mode: "+n)}}t.from=function(s,r){if(t.isValid(s))return s;try{return i(s)}catch{return r}}})(K);(function(t){const e=F,o=vt,i=_t,n=K,s=Kt,r=1<<12|1<<11|1<<10|1<<9|1<<8|1<<5|1<<2|1<<0,c=e.getBCHDigit(r);function a(m,f,p){for(let w=1;w<=40;w++)if(f<=t.getCapacity(w,p,m))return w}function l(m,f){return n.getCharCountIndicator(m,f)+4}function u(m,f){let p=0;return m.forEach(function(w){p+=l(w.mode,f)+w.getBitsLength()}),p}function d(m,f){for(let p=1;p<=40;p++)if(u(m,p)<=t.getCapacity(p,f,n.MIXED))return p}t.from=function(f,p){return s.isValid(f)?parseInt(f,10):p},t.getCapacity=function(f,p,w){if(!s.isValid(f))throw new Error("Invalid QR Code version");typeof w=="undefined"&&(w=n.BYTE);const T=e.getSymbolTotalCodewords(f),y=o.getTotalCodewordsCount(f,p),A=(T-y)*8;if(w===n.MIXED)return A;const g=A-l(w,f);switch(w){case n.NUMERIC:return Math.floor(g/10*3);case n.ALPHANUMERIC:return Math.floor(g/11*2);case n.KANJI:return Math.floor(g/13);case n.BYTE:default:return Math.floor(g/8)}},t.getBestVersionForData=function(f,p){let w;const T=i.from(p,i.M);if(Array.isArray(f)){if(f.length>1)return d(f,T);if(f.length===0)return 1;w=f[0]}else w=f;return a(w.mode,w.getLength(),T)},t.getEncodedBits=function(f){if(!s.isValid(f)||f<7)throw new Error("Invalid QR Code version");let p=f<<12;for(;e.getBCHDigit(p)-c>=0;)p^=r<<e.getBCHDigit(p)-c;return f<<12|p}})(de);var he={};const Mt=F,ge=1<<10|1<<8|1<<5|1<<4|1<<2|1<<1|1<<0,qe=1<<14|1<<12|1<<10|1<<4|1<<1,qt=Mt.getBCHDigit(ge);he.getEncodedBits=function(e,o){const i=e.bit<<3|o;let n=i<<10;for(;Mt.getBCHDigit(n)-qt>=0;)n^=ge<<Mt.getBCHDigit(n)-qt;return(i<<10|n)^qe};var me={};const Ze=K;function q(t){this.mode=Ze.NUMERIC,this.data=t.toString()}q.getBitsLength=function(e){return 10*Math.floor(e/3)+(e%3?e%3*3+1:0)};q.prototype.getLength=function(){return this.data.length};q.prototype.getBitsLength=function(){return q.getBitsLength(this.data.length)};q.prototype.write=function(e){let o,i,n;for(o=0;o+3<=this.data.length;o+=3)i=this.data.substr(o,3),n=parseInt(i,10),e.put(n,10);const s=this.data.length-o;s>0&&(i=this.data.substr(o),n=parseInt(i,10),e.put(n,s*3+1))};var Xe=q;const tn=K,Tt=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function Z(t){this.mode=tn.ALPHANUMERIC,this.data=t}Z.getBitsLength=function(e){return 11*Math.floor(e/2)+6*(e%2)};Z.prototype.getLength=function(){return this.data.length};Z.prototype.getBitsLength=function(){return Z.getBitsLength(this.data.length)};Z.prototype.write=function(e){let o;for(o=0;o+2<=this.data.length;o+=2){let i=Tt.indexOf(this.data[o])*45;i+=Tt.indexOf(this.data[o+1]),e.put(i,11)}this.data.length%2&&e.put(Tt.indexOf(this.data[o]),6)};var en=Z,nn=function(e){for(var o=[],i=e.length,n=0;n<i;n++){var s=e.charCodeAt(n);if(s>=55296&&s<=56319&&i>n+1){var r=e.charCodeAt(n+1);r>=56320&&r<=57343&&(s=(s-55296)*1024+r-56320+65536,n+=1)}if(s<128){o.push(s);continue}if(s<2048){o.push(s>>6|192),o.push(s&63|128);continue}if(s<55296||s>=57344&&s<65536){o.push(s>>12|224),o.push(s>>6&63|128),o.push(s&63|128);continue}if(s>=65536&&s<=1114111){o.push(s>>18|240),o.push(s>>12&63|128),o.push(s>>6&63|128),o.push(s&63|128);continue}o.push(239,191,189)}return new Uint8Array(o).buffer};const on=nn,sn=K;function X(t){this.mode=sn.BYTE,typeof t=="string"&&(t=on(t)),this.data=new Uint8Array(t)}X.getBitsLength=function(e){return e*8};X.prototype.getLength=function(){return this.data.length};X.prototype.getBitsLength=function(){return X.getBitsLength(this.data.length)};X.prototype.write=function(t){for(let e=0,o=this.data.length;e<o;e++)t.put(this.data[e],8)};var rn=X;const an=K,cn=F;function tt(t){this.mode=an.KANJI,this.data=t}tt.getBitsLength=function(e){return e*13};tt.prototype.getLength=function(){return this.data.length};tt.prototype.getBitsLength=function(){return tt.getBitsLength(this.data.length)};tt.prototype.write=function(t){let e;for(e=0;e<this.data.length;e++){let o=cn.toSJIS(this.data[e]);if(o>=33088&&o<=40956)o-=33088;else if(o>=57408&&o<=60351)o-=49472;else throw new Error("Invalid SJIS character: "+this.data[e]+`
Make sure your charset is UTF-8`);o=(o>>>8&255)*192+(o&255),t.put(o,13)}};var ln=tt,we={exports:{}};(function(t){var e={single_source_shortest_paths:function(o,i,n){var s={},r={};r[i]=0;var c=e.PriorityQueue.make();c.push(i,0);for(var a,l,u,d,m,f,p,w,T;!c.empty();){a=c.pop(),l=a.value,d=a.cost,m=o[l]||{};for(u in m)m.hasOwnProperty(u)&&(f=m[u],p=d+f,w=r[u],T=typeof r[u]=="undefined",(T||w>p)&&(r[u]=p,c.push(u,p),s[u]=l))}if(typeof n!="undefined"&&typeof r[n]=="undefined"){var y=["Could not find a path from ",i," to ",n,"."].join("");throw new Error(y)}return s},extract_shortest_path_from_predecessor_list:function(o,i){for(var n=[],s=i;s;)n.push(s),o[s],s=o[s];return n.reverse(),n},find_path:function(o,i,n){var s=e.single_source_shortest_paths(o,i,n);return e.extract_shortest_path_from_predecessor_list(s,n)},PriorityQueue:{make:function(o){var i=e.PriorityQueue,n={},s;o=o||{};for(s in i)i.hasOwnProperty(s)&&(n[s]=i[s]);return n.queue=[],n.sorter=o.sorter||i.default_sorter,n},default_sorter:function(o,i){return o.cost-i.cost},push:function(o,i){var n={value:o,cost:i};this.queue.push(n),this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return this.queue.length===0}}};t.exports=e})(we);(function(t){const e=K,o=Xe,i=en,n=rn,s=ln,r=x,c=F,a=we.exports;function l(y){return unescape(encodeURIComponent(y)).length}function u(y,A,g){const h=[];let k;for(;(k=y.exec(g))!==null;)h.push({data:k[0],index:k.index,mode:A,length:k[0].length});return h}function d(y){const A=u(r.NUMERIC,e.NUMERIC,y),g=u(r.ALPHANUMERIC,e.ALPHANUMERIC,y);let h,k;return c.isKanjiModeEnabled()?(h=u(r.BYTE,e.BYTE,y),k=u(r.KANJI,e.KANJI,y)):(h=u(r.BYTE_KANJI,e.BYTE,y),k=[]),A.concat(g,h,k).sort(function(E,_){return E.index-_.index}).map(function(E){return{data:E.data,mode:E.mode,length:E.length}})}function m(y,A){switch(A){case e.NUMERIC:return o.getBitsLength(y);case e.ALPHANUMERIC:return i.getBitsLength(y);case e.KANJI:return s.getBitsLength(y);case e.BYTE:return n.getBitsLength(y)}}function f(y){return y.reduce(function(A,g){const h=A.length-1>=0?A[A.length-1]:null;return h&&h.mode===g.mode?(A[A.length-1].data+=g.data,A):(A.push(g),A)},[])}function p(y){const A=[];for(let g=0;g<y.length;g++){const h=y[g];switch(h.mode){case e.NUMERIC:A.push([h,{data:h.data,mode:e.ALPHANUMERIC,length:h.length},{data:h.data,mode:e.BYTE,length:h.length}]);break;case e.ALPHANUMERIC:A.push([h,{data:h.data,mode:e.BYTE,length:h.length}]);break;case e.KANJI:A.push([h,{data:h.data,mode:e.BYTE,length:l(h.data)}]);break;case e.BYTE:A.push([{data:h.data,mode:e.BYTE,length:l(h.data)}])}}return A}function w(y,A){const g={},h={start:{}};let k=["start"];for(let B=0;B<y.length;B++){const E=y[B],_=[];for(let M=0;M<E.length;M++){const I=E[M],L=""+B+M;_.push(L),g[L]={node:I,lastCount:0},h[L]={};for(let z=0;z<k.length;z++){const R=k[z];g[R]&&g[R].node.mode===I.mode?(h[R][L]=m(g[R].lastCount+I.length,I.mode)-m(g[R].lastCount,I.mode),g[R].lastCount+=I.length):(g[R]&&(g[R].lastCount=I.length),h[R][L]=m(I.length,I.mode)+4+e.getCharCountIndicator(I.mode,A))}}k=_}for(let B=0;B<k.length;B++)h[k[B]].end=0;return{map:h,table:g}}function T(y,A){let g;const h=e.getBestModeForData(y);if(g=e.from(A,h),g!==e.BYTE&&g.bit<h.bit)throw new Error('"'+y+'" cannot be encoded with mode '+e.toString(g)+`.
 Suggested mode is: `+e.toString(h));switch(g===e.KANJI&&!c.isKanjiModeEnabled()&&(g=e.BYTE),g){case e.NUMERIC:return new o(y);case e.ALPHANUMERIC:return new i(y);case e.KANJI:return new s(y);case e.BYTE:return new n(y)}}t.fromArray=function(A){return A.reduce(function(g,h){return typeof h=="string"?g.push(T(h,null)):h.data&&g.push(T(h.data,h.mode)),g},[])},t.fromString=function(A,g){const h=d(A,c.isKanjiModeEnabled()),k=p(h),B=w(k,g),E=a.find_path(B.map,"start","end"),_=[];for(let M=1;M<E.length-1;M++)_.push(B.table[E[M]].node);return t.fromArray(f(_))},t.rawSplit=function(A){return t.fromArray(d(A,c.isKanjiModeEnabled()))}})(me);const Et=F,Bt=_t,un=$e,dn=Ke,fn=re,hn=ae,Rt=ce,Ut=vt,gn=je,At=de,mn=he,wn=K,St=me;function bn(t,e){const o=t.size,i=hn.getPositions(e);for(let n=0;n<i.length;n++){const s=i[n][0],r=i[n][1];for(let c=-1;c<=7;c++)if(!(s+c<=-1||o<=s+c))for(let a=-1;a<=7;a++)r+a<=-1||o<=r+a||(c>=0&&c<=6&&(a===0||a===6)||a>=0&&a<=6&&(c===0||c===6)||c>=2&&c<=4&&a>=2&&a<=4?t.set(s+c,r+a,!0,!0):t.set(s+c,r+a,!1,!0))}}function pn(t){const e=t.size;for(let o=8;o<e-8;o++){const i=o%2===0;t.set(o,6,i,!0),t.set(6,o,i,!0)}}function yn(t,e){const o=fn.getPositions(e);for(let i=0;i<o.length;i++){const n=o[i][0],s=o[i][1];for(let r=-2;r<=2;r++)for(let c=-2;c<=2;c++)r===-2||r===2||c===-2||c===2||r===0&&c===0?t.set(n+r,s+c,!0,!0):t.set(n+r,s+c,!1,!0)}}function An(t,e){const o=t.size,i=At.getEncodedBits(e);let n,s,r;for(let c=0;c<18;c++)n=Math.floor(c/3),s=c%3+o-8-3,r=(i>>c&1)===1,t.set(n,s,r,!0),t.set(s,n,r,!0)}function It(t,e,o){const i=t.size,n=mn.getEncodedBits(e,o);let s,r;for(s=0;s<15;s++)r=(n>>s&1)===1,s<6?t.set(s,8,r,!0):s<8?t.set(s+1,8,r,!0):t.set(i-15+s,8,r,!0),s<8?t.set(8,i-s-1,r,!0):s<9?t.set(8,15-s-1+1,r,!0):t.set(8,15-s-1,r,!0);t.set(i-8,8,1,!0)}function _n(t,e){const o=t.size;let i=-1,n=o-1,s=7,r=0;for(let c=o-1;c>0;c-=2)for(c===6&&c--;;){for(let a=0;a<2;a++)if(!t.isReserved(n,c-a)){let l=!1;r<e.length&&(l=(e[r]>>>s&1)===1),t.set(n,c-a,l),s--,s===-1&&(r++,s=7)}if(n+=i,n<0||o<=n){n-=i,i=-i;break}}}function vn(t,e,o){const i=new un;o.forEach(function(a){i.put(a.mode.bit,4),i.put(a.getLength(),wn.getCharCountIndicator(a.mode,t)),a.write(i)});const n=Et.getSymbolTotalCodewords(t),s=Ut.getTotalCodewordsCount(t,e),r=(n-s)*8;for(i.getLengthInBits()+4<=r&&i.put(0,4);i.getLengthInBits()%8!==0;)i.putBit(0);const c=(r-i.getLengthInBits())/8;for(let a=0;a<c;a++)i.put(a%2?17:236,8);return kn(i,t,e)}function kn(t,e,o){const i=Et.getSymbolTotalCodewords(e),n=Ut.getTotalCodewordsCount(e,o),s=i-n,r=Ut.getBlocksCount(e,o),c=i%r,a=r-c,l=Math.floor(i/r),u=Math.floor(s/r),d=u+1,m=l-u,f=new gn(m);let p=0;const w=new Array(r),T=new Array(r);let y=0;const A=new Uint8Array(t.buffer);for(let E=0;E<r;E++){const _=E<a?u:d;w[E]=A.slice(p,p+_),T[E]=f.encode(w[E]),p+=_,y=Math.max(y,_)}const g=new Uint8Array(i);let h=0,k,B;for(k=0;k<y;k++)for(B=0;B<r;B++)k<w[B].length&&(g[h++]=w[B][k]);for(k=0;k<m;k++)for(B=0;B<r;B++)g[h++]=T[B][k];return g}function En(t,e,o,i){let n;if(Array.isArray(t))n=St.fromArray(t);else if(typeof t=="string"){let l=e;if(!l){const u=St.rawSplit(t);l=At.getBestVersionForData(u,o)}n=St.fromString(t,l||40)}else throw new Error("Invalid data");const s=At.getBestVersionForData(n,o);if(!s)throw new Error("The amount of data is too big to be stored in a QR Code");if(!e)e=s;else if(e<s)throw new Error(`
The chosen QR Code version cannot contain this amount of data.
Minimum version required to store current data is: `+s+`.
`);const r=vn(e,o,n),c=Et.getSymbolSize(e),a=new dn(c);return bn(a,e),pn(a),yn(a,e),It(a,o,0),e>=7&&An(a,e),_n(a,r),isNaN(i)&&(i=Rt.getBestMask(a,It.bind(null,a,o))),Rt.applyMask(i,a),It(a,o,i),{modules:a,version:e,errorCorrectionLevel:o,maskPattern:i,segments:n}}se.create=function(e,o){if(typeof e=="undefined"||e==="")throw new Error("No input text");let i=Bt.M,n,s;return typeof o!="undefined"&&(i=Bt.from(o.errorCorrectionLevel,Bt.M),n=At.from(o.version),s=Rt.from(o.maskPattern),o.toSJISFunc&&Et.setToSJISFunction(o.toSJISFunc)),En(e,n,i,s)};var be={},Vt={};(function(t){function e(o){if(typeof o=="number"&&(o=o.toString()),typeof o!="string")throw new Error("Color should be defined as hex string");let i=o.slice().replace("#","").split("");if(i.length<3||i.length===5||i.length>8)throw new Error("Invalid hex color: "+o);(i.length===3||i.length===4)&&(i=Array.prototype.concat.apply([],i.map(function(s){return[s,s]}))),i.length===6&&i.push("F","F");const n=parseInt(i.join(""),16);return{r:n>>24&255,g:n>>16&255,b:n>>8&255,a:n&255,hex:"#"+i.slice(0,6).join("")}}t.getOptions=function(i){i||(i={}),i.color||(i.color={});const n=typeof i.margin=="undefined"||i.margin===null||i.margin<0?4:i.margin,s=i.width&&i.width>=21?i.width:void 0,r=i.scale||4;return{width:s,scale:s?4:r,margin:n,color:{dark:e(i.color.dark||"#000000ff"),light:e(i.color.light||"#ffffffff")},type:i.type,rendererOpts:i.rendererOpts||{}}},t.getScale=function(i,n){return n.width&&n.width>=i+n.margin*2?n.width/(i+n.margin*2):n.scale},t.getImageWidth=function(i,n){const s=t.getScale(i,n);return Math.floor((i+n.margin*2)*s)},t.qrToImageData=function(i,n,s){const r=n.modules.size,c=n.modules.data,a=t.getScale(r,s),l=Math.floor((r+s.margin*2)*a),u=s.margin*a,d=[s.color.light,s.color.dark];for(let m=0;m<l;m++)for(let f=0;f<l;f++){let p=(m*l+f)*4,w=s.color.light;if(m>=u&&f>=u&&m<l-u&&f<l-u){const T=Math.floor((m-u)/a),y=Math.floor((f-u)/a);w=d[c[T*r+y]?1:0]}i[p++]=w.r,i[p++]=w.g,i[p++]=w.b,i[p]=w.a}}})(Vt);(function(t){const e=Vt;function o(n,s,r){n.clearRect(0,0,s.width,s.height),s.style||(s.style={}),s.height=r,s.width=r,s.style.height=r+"px",s.style.width=r+"px"}function i(){try{return document.createElement("canvas")}catch{throw new Error("You need to specify a canvas element")}}t.render=function(s,r,c){let a=c,l=r;typeof a=="undefined"&&(!r||!r.getContext)&&(a=r,r=void 0),r||(l=i()),a=e.getOptions(a);const u=e.getImageWidth(s.modules.size,a),d=l.getContext("2d"),m=d.createImageData(u,u);return e.qrToImageData(m.data,s,a),o(d,l,u),d.putImageData(m,0,0),l},t.renderToDataURL=function(s,r,c){let a=c;typeof a=="undefined"&&(!r||!r.getContext)&&(a=r,r=void 0),a||(a={});const l=t.render(s,r,a),u=a.type||"image/png",d=a.rendererOpts||{};return l.toDataURL(u,d.quality)}})(be);var pe={};const Cn=Vt;function Zt(t,e){const o=t.a/255,i=e+'="'+t.hex+'"';return o<1?i+" "+e+'-opacity="'+o.toFixed(2).slice(1)+'"':i}function Nt(t,e,o){let i=t+e;return typeof o!="undefined"&&(i+=" "+o),i}function Tn(t,e,o){let i="",n=0,s=!1,r=0;for(let c=0;c<t.length;c++){const a=Math.floor(c%e),l=Math.floor(c/e);!a&&!s&&(s=!0),t[c]?(r++,c>0&&a>0&&t[c-1]||(i+=s?Nt("M",a+o,.5+l+o):Nt("m",n,0),n=0,s=!1),a+1<e&&t[c+1]||(i+=Nt("h",r),r=0)):n++}return i}pe.render=function(e,o,i){const n=Cn.getOptions(o),s=e.modules.size,r=e.modules.data,c=s+n.margin*2,a=n.color.light.a?"<path "+Zt(n.color.light,"fill")+' d="M0 0h'+c+"v"+c+'H0z"/>':"",l="<path "+Zt(n.color.dark,"stroke")+' d="'+Tn(r,s,n.margin)+'"/>',u='viewBox="0 0 '+c+" "+c+'"',d=n.width?'width="'+n.width+'" height="'+n.width+'" ':"",m='<svg xmlns="http://www.w3.org/2000/svg" '+d+u+' shape-rendering="crispEdges">'+a+l+`</svg>
`;return typeof i=="function"&&i(null,m),m};const Bn=ze,Ft=se,ye=be,Sn=pe;function jt(t,e,o,i,n){const s=[].slice.call(arguments,1),r=s.length,c=typeof s[r-1]=="function";if(!c&&!Bn())throw new Error("Callback required as last argument");if(c){if(r<2)throw new Error("Too few arguments provided");r===2?(n=o,o=e,e=i=void 0):r===3&&(e.getContext&&typeof n=="undefined"?(n=i,i=void 0):(n=i,i=o,o=e,e=void 0))}else{if(r<1)throw new Error("Too few arguments provided");return r===1?(o=e,e=i=void 0):r===2&&!e.getContext&&(i=o,o=e,e=void 0),new Promise(function(a,l){try{const u=Ft.create(o,i);a(t(u,e,i))}catch(u){l(u)}})}try{const a=Ft.create(o,i);n(null,t(a,e,i))}catch(a){n(a)}}ct.create=Ft.create;ct.toCanvas=jt.bind(null,ye.render);ct.toDataURL=jt.bind(null,ye.renderToDataURL);ct.toString=jt.bind(null,function(t,e,o){return Sn.render(t,o)});function In(){const t=Se({account:"",chainId:"",chain:"",chainName:"",mainName:""});function e(){if(!window.ethereum)return Promise.resolve(t.value);const i=new Ie(window.ethereum);return i.send("eth_requestAccounts",[]).then(n=>n.length===0?Promise.reject("please connect wallet"):(o(),i._networkPromise.then(s=>{let r=s.chainId,c=it.get("chainConfig",ee)||{},l=Object.values(c).find(d=>d.chainId===r),u={account:n[0],chainId:r,chain:(l==null?void 0:l.netName)||"",chainName:(l==null?void 0:l.name)||"",mainName:(l==null?void 0:l.mainName)||""};return t.value=u,Promise.resolve(u)})))}function o(){window.ethereum.on("chainChanged",()=>{window.location.reload()}),window.ethereum.on("accountsChanged",i=>{i.length>0?t.value={...t.value,account:i[0]}:t.value={account:"",chainId:"",chain:""}}),window.ethereum.on("disconnect",i=>{t.value={account:"",chainId:"",chain:""},console.log("err",i),console.log("accountInfo",t.value)})}return{accountInfo:t,connectWallet:e}}const Nn={name:"SelectToken",props:{tokens:Array,token:{type:Object,default:()=>({address:"",chain:"",symbol:"",isbaseToken:!1})}},emits:["update:token"],data(){return{show:!1,keyword:"",NATIVE_TOKEN:P}},computed:{searchTokens(){if(this.keyword!==""){let t=new RegExp(this.keyword,"i");return this.tokens.filter(e=>t.test(e.address)||t.test(e.symbol)||t.test(e.name))}else return this.tokens}},watch:{show(t){t&&(this.keyword="")}},methods:{handleSelectToken(t){if(((t==null?void 0:t.address)||(t==null?void 0:t.token))&&t.token!==P){let e={...t,address:t.address||t.token};this.$emit("update:token",e),Object.keys(e).forEach(o=>{this.token[o]=e[o]}),this.show=!1}}}},Ct=t=>(Gt("data-v-6396912b"),t=t(),zt(),t),Pn={class:"select-box"},Ln={class:"icon-token-container"},Mn=["src"],Rn={key:1},Un=Ct(()=>b("span",{style:{flex:"1"}},null,-1)),Fn=Ct(()=>b("i",{class:"iconfont icon-collapse-down"},null,-1)),Dn={class:"rules-content"},xn={class:"search-bar",action:"/"},Gn={style:{background:"#fff"}},zn=["onClick"],Hn={class:"main"},$n={key:0,class:"risk-status high"},Kn={key:0,class:"minor"},Vn=Ct(()=>b("span",{style:{flex:"1"}},null,-1)),jn={class:"right-label"},On=Ct(()=>b("br",null,null,-1)),Jn={key:0,class:"minor"};function Qn(t,e,o,i,n,s){const r=U("van-image"),c=U("van-search"),a=U("van-empty"),l=U("van-icon"),u=U("van-action-sheet");return S(),N("div",Pn,[b("button",{class:"select-container",type:"button",onClick:e[0]||(e[0]=Q(d=>n.show=!0,["stop"]))},[o.token.address&&o.token.chain?(S(),N(pt,{key:0},[b("div",Ln,[(S(),W(r,{key:o.token.token+o.token.chain,round:"",width:"0.5rem",height:"0.5rem","icon-size":"0.5rem","lazy-load":"","show-loading":"",src:t.$f.formatIcon(o.token),"error-icon":t.iconDefault},null,8,["src","error-icon"])),o.token.chain?(S(),N("img",{key:0,class:"icon-svg icon-network",src:`${t.$store.state.s3BaseUrl}chain/${o.token.chain}.png`,alt:"",srcset:""},null,8,Mn)):G("",!0)]),b("span",null,v(o.token.symbol),1)],64)):(S(),N("div",Rn,v(t.$t("pleaseSelectToken")),1)),Un,Fn]),D(u,{show:n.show,"onUpdate:show":e[2]||(e[2]=d=>n.show=d),title:t.$t("selectToken"),style:{height:"80vh","--van-popup-background-color":"#fff"},"lazy-render":!1},{default:J(()=>[b("div",Dn,[b("form",xn,[D(c,{modelValue:n.keyword,"onUpdate:modelValue":e[1]||(e[1]=d=>n.keyword=d),modelModifiers:{trim:!0},background:"#fff",shape:"round",placeholder:t.$t("searchContractORName")},null,8,["modelValue","placeholder"])]),b("ul",Gn,[ot(D(a,{class:"empty",image:t.emptyNoDataLight,description:t.$t("empty")},null,8,["image","description"]),[[wt,s.searchTokens&&s.searchTokens.length===0]]),(S(!0),N(pt,null,ne(s.searchTokens,(d,m)=>(S(),N("li",{key:m,class:Lt(["token-item",{disabled:d.token===n.NATIVE_TOKEN}]),onClick:Q(f=>s.handleSelectToken(d),["stop"])},[D(r,{class:"icon-token",round:"",width:"0.6rem",height:"0.6rem","icon-size":"0.6rem","lazy-load":"","show-loading":"",src:t.$f.formatIcon(d)||t.iconDefault,"error-icon":t.iconDefault},null,8,["src","error-icon"]),b("div",null,[b("div",Hn,[b("span",null,v(d.symbol),1),(d.risk_score>60||d.risk_level<0)&&d.risk_level!==1?(S(),N("span",$n,v(t.$t("highRisk")),1)):G("",!0)]),d.address!==n.NATIVE_TOKEN?(S(),N("div",Kn,v(d.address.slice(0,6)+"..."+d.address.slice(-6)),1)):G("",!0)]),Vn,b("div",jn,[b("span",null,v(d.value?t.$f.formatNumber2(d.value):""),1),On,d.price!==void 0?(S(),N("span",Jn,"$"+v(d.value?t.$f.formatNumber2(d.value*d.price):""),1)):G("",!0)]),d.address===(o.token.address||o.token.token)?(S(),W(l,{key:0,size:"0.32rem",color:"#558BED",name:"success"})):(S(),W(l,{key:1,style:{opacity:"0"},size:"0.32rem",color:"#558BED",name:"success"}))],10,zn))),128))])])]),_:1},8,["show","title"])])}var Yn=xt(Nn,[["render",Qn],["__scopeId","data-v-6396912b"]]);const Wn={name:"TxItem",props:{item:Object},emits:["refresh"],data(){return{loading:!1,defaultIcon:new URL("/assets/icon-default.995adb35.png",self.location).href}},methods:{formatUnits:oe,formatStatus(t){var o;return(o={0:"",1:this.$t("cancelled"),2:this.$t("completed"),3:this.$t("unknownError1"),7:this.$t("unknownError1"),4:this.$t("notEnoughBalance"),5:this.$t("insufficientSlippage1"),8:this.$t("insufficientSlippage1"),6:this.$t("transferFailed"),10:this.$t("fail1")+`(${this.$t("nonceError")})`,11:this.$t("fail1")+`(${this.$t("chainError")})`,12:this.$t("fail1")+`(${this.$t("signatureError")})`,13:this.$t("fail1")+`(${this.$t("approveGasPriceLow")})`,"-1":""}[t])!=null?o:t},formatStatusColor(t){return t===1||t===10||t===11||t===12?"#999999":t===2?"#12B886":t===0?"#3F80F7":"#FF0000"},goLink(){let t=this.$f.formatExplorerUrl(this.item.chain,this.item.executed_tx_hash,"tx");t&&this.item.executed_tx_hash&&this.$f.appOpenWebPage(t)}}},Ae=t=>(Gt("data-v-256d3bcd"),t=t(),zt(),t),qn={class:"flex items-center"},Zn={class:"label mr-20"},Xn={key:0,class:"token-container"},to={class:"icon-token-container mr-5"},eo=["src"],no={class:"mr-5"},oo=Ae(()=>b("span",{style:{flex:"1"}},null,-1)),so={class:"flex items-center mt-10"},io={class:"label mr-20"},ro={key:0,class:"token-container"},ao={class:"icon-token-container mr-5"},co=["src"],lo={class:"mr-5"},uo={class:"flex items-center justify-between mt-10"},fo={class:"label mr-20"},ho=Ae(()=>b("span",{style:{flex:"1"}},null,-1));function go(t,e,o,i,n,s){var a,l,u;const r=U("van-image"),c=U("van-loading");return S(),N("li",{class:"tx-li-item van-hairline--bottom clickable",onClick:e[0]||(e[0]=Q((...d)=>s.goLink&&s.goLink(...d),["stop"]))},[b("div",qn,[b("span",Zn,v(t.$t("from")),1),o.item.from_token?(S(),N("div",Xn,[b("div",to,[D(r,{round:"",width:"0.4rem",height:"0.4rem","icon-size":"0.4rem","lazy-load":"","show-loading":"",src:t.$f.formatIcon(o.item.from_token+"-"+o.item.chain),"error-icon":n.defaultIcon},null,8,["src","error-icon"]),b("img",{class:"icon-svg icon-network",src:`${t.$store.state.s3BaseUrl}chain/${o.item.chain}.png`,alt:"",srcset:""},null,8,eo)]),b("span",no,v(t.$f.formatNumber2(s.formatUnits(o.item.from_amount,o.item.from_token_decimals))),1),b("span",null,v(o.item.from_token_symbol||""),1)])):G("",!0),oo]),b("div",so,[b("span",io,v(t.$t("to")),1),o.item.to_token?(S(),N("div",ro,[b("div",ao,[D(r,{round:"",width:"0.4rem",height:"0.4rem","icon-size":"0.4rem","lazy-load":"","show-loading":"",src:t.$f.formatIcon(o.item.to_token+"-"+o.item.chain),"error-icon":n.defaultIcon},null,8,["src","error-icon"]),b("img",{class:"icon-svg icon-network",src:`${t.$store.state.s3BaseUrl}chain/${o.item.chain}.png`,alt:"",srcset:""},null,8,co)]),b("span",lo,v(t.$f.formatNumber2(s.formatUnits(o.item.to_amount,o.item.to_token_decimals))),1),b("span",null,v(((a=o.item)==null?void 0:a.to_token_symbol)||""),1)])):G("",!0)]),b("div",uo,[b("span",fo,v(t.$f.formatDate(o.item.created_at)),1),o.item.status===1||o.item.status===2?(S(),N("span",{key:0,class:"status-txt",style:Ot({color:s.formatStatusColor(o.item.status)})},v(s.formatStatus(o.item.status)),5)):(S(),N(pt,{key:1},[ho,((l=o.item)==null?void 0:l.status)===0||((u=o.item)==null?void 0:u.status)===-1?(S(),W(c,{key:0,size:"0.32rem",color:"#3F80F7","text-size":"0.24rem"},{default:J(()=>[bt(v(t.$t("pending")),1)]),_:1})):(S(),N("span",{key:1,class:"status-txt",style:Ot({color:s.formatStatusColor(o.item.status)})},v(s.formatStatus(o.item.status)),5))],64))])])}var mo=xt(Wn,[["render",go],["__scopeId","data-v-256d3bcd"]]),wo="/assets/selected.d5bed8c5.svg",bo="data:image/png;base64,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";const gt={bsc:["0x55d398326f99059ff775485246999027b3197955","0x8ac76a51cc950d9822d68b83fe1ad97b32cd580d","0xe9e7cea3dedca5984780bafc599bd69add087d56","0x1af3f329e8be154074d8769d1ffa4ee058b1dbc3"],core:["0x9ebab27608bd64aff36f027049aecc69102a0d1e","0x81bcea03678d1cef4830942227720d542aa15817"],polygon:["0xc2132d05d31c914a87c6611c10748aeb04b58e8f","0x2791bca1f2de4661ed88a30c99a7a9449aa84174","0xa8d394fe7380b8ce6145d5f85e6ac22d4e91acde"],arbitrum:["0xfd086bc7cd5c481dcc9c85ebe478a1c0b69fcbb9","0xff970a61a04b1ca14834a43f5de4533ebddb5cc8","0xda10009cbd5d07dd0cecc66161fc93d7c9000da1"],eth:["0xdac17f958d2ee523a2206206994597c13d831ec7","0xa0b86991c6218b36c1d19d4a2e9eb0ce3606eb48","0x6b175474e89094c44da98b954eedeac495271d0f","0x4fabb145d64652a948d72533023f6e7a623c7c53"],oec:["0x382bb369d343125bfb2117af9c149795c6c65c50","0xc946daf81b08146b1c7a8da2a851ddf2b3eaaf85","0x332730a4f6e03d9c55829435f10360e13cfa41ff"],optimism:["0xda10009cbd5d07dd0cecc66161fc93d7c9000da1","0x7f5c764cbc14f9669b88837ca1490cca17c31607","0x94b008aa00579c1307b0ef2c499ad98a8ce58e58"]};let mt=null;const po={name:"Gas",components:{SelectToken:Yn,GasTxItem:mo},setup(){const{accountInfo:t,connectWallet:e}=In();return{accountInfo:t,connectWallet:e}},data(){return{tabActive:0,token:{symbol:"",address:"",chain:"",value:0,decimals:0},tokens:[],selected:5,gasList:[3,5,10,50,100],qrUrl:"",gasAmountList:[{u:3,amount:0,amountEth:0},{u:5,amount:0,amountEth:0},{u:10,amount:0,amountEth:0},{u:50,amount:0,amountEth:0},{u:100,amount:0,amountEth:0}],estimateGasUnit:0,balance:0,ethToken:{symbol:"",address:"",chain:"",value:0,decimals:0},loading:!1,loadingGetGasList:!1,gasTxList:[],isHasUnTx:!1}},computed:{gasAmount(){var o,i;let t=(i=(o=this.gasAmountList)==null?void 0:o.find)==null?void 0:i.call(o,n=>n.u===this.selected);return(t==null?void 0:t.amount)||0},swapDisabled(){var o,i,n,s;let t=(i=(o=this.gasAmountList)==null?void 0:o.find)==null?void 0:i.call(o,r=>r.u===this.selected),e=(t==null?void 0:t.amount)||0;return!((n=this.token)!=null&&n.value)||!e||new C(((s=this.token)==null?void 0:s.value)||0).lt(e.toString())},swapDisabledMsg(){var o,i,n,s,r,c;let t=(i=(o=this.gasAmountList)==null?void 0:o.find)==null?void 0:i.call(o,a=>a.u===this.selected),e=(t==null?void 0:t.amount)||0;if(!((n=this.token)!=null&&n.value)||!e)return this.$t("swap");if(new C(((s=this.token)==null?void 0:s.value)||0).lt(e.toString())){let a=(r=this.token)==null?void 0:r.symbol;return(a?a+" ":"")+this.$t("insufficientBalance")}else return this.$t("swap")+` (${((c=this.accountInfo)==null?void 0:c.mainName)||this.ethToken.symbol||""})`}},watch:{"token.address"(t){t&&(console.log(t),this.quoteLimitAll(),this.estimateGasTx())}},mounted(){this.init()},methods:{init(){Ge(),this.connectWallet().then(t=>{t.chain==="eth"&&(this.selected=50,this.gasAmountList=[{u:50,amount:0,amountEth:0},{u:100,amount:0,amountEth:0},{u:150,amount:0,amountEth:0},{u:200,amount:0,amountEth:0},{u:300,amount:0,amountEth:0}]),this.supportChainLimit(),this.getQrCode(),this.getUserTokenList(),this.getNoGasList()}).catch(t=>{this.accountInfo={account:"",chainId:"",chain:""},this.$f.handleError(t)})},estimateGasTx(){var e,o,i,n,s,r;if((((e=this.token)==null?void 0:e.value)||0)<=0)return;let t={token:((o=this.token)==null?void 0:o.address)||"",chain:((i=this.token)==null?void 0:i.chain)||"",from:((n=this.accountInfo)==null?void 0:n.account)||"",to:Ne,amount:new C(((s=this.token)==null?void 0:s.value)||0).div(2).times(new C(10).pow(((r=this.token)==null?void 0:r.decimals)||0)).toFixed(0)};De(t).then(c=>{console.log("estimateGasTx",c.toString()),this.estimateGasUnit=new C(c.toString()).times(1.2).toFixed()})},formatGasCount(t){return this.estimateGasUnit&&new C(t).div(this.estimateGasUnit).toFixed(0)||0},getQrCode(){var t,e;!((t=this.accountInfo)!=null&&t.account)||ct.toDataURL(((e=this.accountInfo)==null?void 0:e.account)||"",{width:240,margin:2}).then(o=>{this.qrUrl=o}).catch(o=>{console.error(o)})},setDefaultToken(){var e,o,i,n;let t=(o=(e=this.tokens)==null?void 0:e.find)==null?void 0:o.call(e,s=>/USD/.test(s.symbol));if(t)this.token={...t};else{let s=(n=(i=this.tokens)==null?void 0:i.find)==null?void 0:n.call(i,r=>r.address!==P);s&&(this.token={...s})}},getUserTokenList(){var i,n,s;let t=((i=this.accountInfo)==null?void 0:i.chain)||"",e=((n=this.accountInfo)==null?void 0:n.account)||"";if(!t||!e)return;let o=(s=gt[t])!=null?s:[];Me(t,e).then(r=>{let c=(r==null?void 0:r.map(a=>({...a,id:a.token+"-"+a.chain,address:a.token}))).filter(a=>{var l;return o.length===0||a.token===P||o.includes((l=a==null?void 0:a.token)==null?void 0:l.toLowerCase())});this.tokens=c||[],this.setDefaultToken(),c.length>0&&Le(c.map(a=>a.token||""),t,e).then(async a=>{var l,u,d;this.tokens=((l=c==null?void 0:c.map)==null?void 0:l.call(c,(m,f)=>({...m,value:oe(a[f],m.decimals||0)})).toSorted((m,f)=>m.token===P?-1:f.token===P?1:f.value-m.value))||[],this.setDefaultToken(),this.ethToken=((d=(u=this.tokens)==null?void 0:u.find)==null?void 0:d.call(u,m=>m.address===P))||{symbol:"",address:"",chain:"",value:0,decimals:0}})})},quoteLimit(t=5,e=1){var c,a,l,u,d,m;let o=(u=(a=gt==null?void 0:gt[((c=this.accountInfo)==null?void 0:c.chain)||""])==null?void 0:a.includes)!=null&&u.call(a,(l=this.token)==null?void 0:l.address)?1:((d=this.token)==null?void 0:d.current_price_usd)||1,i=new C(t).div(o),n=i.times(new C(10).pow(((m=this.token)==null?void 0:m.decimals)||0)).toFixed(0),s={from_token:this.token.token,to_token:P,amountIn:n,amountOut:""},r=this.token.chain;Fe(s,r).then(f=>{console.log(f);let p=(f==null?void 0:f.routerPath)||[],w=p==null?void 0:p[p.length-1],T=(w==null?void 0:w.amount)||"0",y=f.gasU;console.log(`gasAmount$ $${t}`,T,w),this.gasAmountList[e].amount=i.toFixed(),this.gasAmountList[e].amountEth=Jt(T),this.gasAmountList[e].amountEthD=T,this.gasAmountList[e].symbol=(w==null?void 0:w.symbol)||"",this.gasAmountList.forEach((A,g)=>{let h=new C(A.u).div(t),k=new C((f==null?void 0:f.realAmountOut)||0),B=new C((f==null?void 0:f.gasAmount)||0),E=k.times(h).minus(B).toFixed(0);this.gasAmountList[g]={...A,amount:new C(A.u).div(o).toFixed(),amountEth:Jt(E),amountEthD:E,symbol:(w==null?void 0:w.symbol)||"",gasU:y}})})},quoteLimitAll(){var t,e;this.quoteLimit((e=(t=this.gasAmountList)==null?void 0:t[0])==null?void 0:e.u,0)},appExchangeGas(){var n,s,r,c,a,l,u;if(this.accountInfo.chain==="eth"){this.$dialog.alert({title:"",message:this.$t("ethTips"),confirmButtonText:this.$t("getIt"),confirmButtonColor:"#3F80F7"});return}if(!this.supportChainLimit())return;if(this.isHasUnTx){this.$dialog.alert({title:"",message:this.$t("unTxTips"),confirmButtonText:this.$t("getIt"),confirmButtonColor:"#3F80F7"});return}let t=this.gasAmountList.find(d=>d.u===this.selected),e=(t==null?void 0:t.amount)||0,o=((n=this.token)==null?void 0:n.decimals)||0,i={ave_method:"appExchangeGas",from_token:((s=this.token)==null?void 0:s.address)||"",from_amount:(a=(c=(r=new C(e).times(new C(10).pow(o)))==null?void 0:r.toFixed())==null?void 0:c.replace)==null?void 0:a.call(c,/\.[0-9]*$/,"")};window!=null&&window._tw_&&(this.loading=!0,(u=(l=window==null?void 0:window.ethereum)==null?void 0:l.request)==null||u.call(l,{method:"wallet_switchEthereumChain",params:[i]}).then(d=>{console.log("appExchangeGas result",d),d?setTimeout(()=>{this.loading=!1,this.$toast.success(this.$t("transactionsSubmitted")),this.getNoGasList()},1e3):this.$toast({message:this.$t("fail"),position:"top"})}).catch(d=>{this.loading=!1,this.$f.handleError(d)}))},getNoGasList(){var t,e,o;if((t=this.accountInfo)!=null&&t.chain){let i={maker:(e=this.accountInfo)==null?void 0:e.account,chain:(o=this.accountInfo)==null?void 0:o.chain};this.loadingGetGasList=!0,this.isHasUnTx=!0,xe(i).then(n=>{var s,r;console.log("getNoGasList",n),this.gasTxList=((n==null?void 0:n.data)||[]).filter(c=>(c==null?void 0:c.to_token)==="0xeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee"),this.isHasUnTx=(r=(s=this.gasTxList)==null?void 0:s.some)==null?void 0:r.call(s,c=>c.status===0||c.status===-1),this.isHasUnTx||this.getUserTokenList()}).finally(()=>{setTimeout(()=>{this.loadingGetGasList=!1},800),mt&&(clearTimeout(mt),mt=null),mt=setTimeout(()=>{var n,s;(s=(n=this.gasTxList)==null?void 0:n.some)!=null&&s.call(n,r=>r.status===0||r.status===-1)&&this.getNoGasList()},1e4)})}},supportChainLimit(){var t,e,o,i,n,s,r,c;if(((t=this.$route)==null?void 0:t.name)==="Gas"){if(!((e=window==null?void 0:window._tw_)!=null&&e.appExchangeGas))return this.$dialog.alert({title:"",message:this.$t("notYetSupportedGasTips1"),confirmButtonText:this.$t("getIt"),confirmButtonColor:"#3F80F7"}),!1;let a=this.accountInfo.chain,l=it.get("ave_limitContracts",Pt)||{},u=Object.keys(l),d=it.get("chainConfig",ee)||{},m=(n=(i=(o=u==null?void 0:u.map)==null?void 0:o.call(u,f=>{var p;return(p=d==null?void 0:d[f])==null?void 0:p.name}))==null?void 0:i.join)==null?void 0:n.call(i,", ");if(((r=(s=this.accountInfo)==null?void 0:s.startsWith)==null?void 0:r.call(s,"T"))||a&&!((c=u==null?void 0:u.includes)!=null&&c.call(u,a)))return this.$dialog.alert({title:"",message:this.$t("notYetSupportedGasTips",{chains:m}),confirmButtonText:this.$t("getIt"),confirmButtonColor:"#3F80F7"}),!1}return!0}}},_e=t=>(Gt("data-v-1edc9d8c"),t=t(),zt(),t),yo={class:"gas-container"},Ao={class:"tabs"},_o={class:"section"},vo={class:"title"},ko={class:"section"},Eo={class:"title"},Co={class:"swap-amount-list"},To=["onClick"],Bo={class:"text-2"},So={key:0,class:"selected-img",src:wo,alt:"",srcset:""},Io={class:"submit-container"},No={class:"gas-c"},Po={class:"card-container txs-container"},Lo=_e(()=>b("div",{class:"txs-top-gap"},null,-1)),Mo={class:"van-hairline--bottom"},Ro={class:"d-tips"},Uo=_e(()=>b("img",{src:bo,alt:"",srcset:""},null,-1)),Fo=["src"],Do={key:1,class:"qr van-hairline--surround"},xo={class:"qr-d"},Go={key:2,class:"qr-t"},zo={class:"submit-container"},Ho={class:"gas-c"};function $o(t,e,o,i,n,s){var p,w,T,y,A;const r=U("van-notice-bar"),c=U("SelectToken"),a=U("van-button"),l=U("van-empty"),u=U("GasTxItem"),d=U("DynamicScrollerItem"),m=U("DynamicScroller"),f=Pe("copy");return S(),N("div",yo,[D(r,{mode:"closeable","left-icon":"info-o",background:"#FFFBE8",color:"#ED6A0C",wrapable:"",scrollable:!1},{default:J(()=>[bt(v(t.$t("gasNotice")),1)]),_:1}),b("div",Ao,[b("button",{class:Lt(["tab",{active:n.tabActive===0}]),onClick:e[0]||(e[0]=Q(g=>n.tabActive=0,["stop"]))},v(t.$t("swapGas")),3),b("button",{class:Lt(["tab",{active:n.tabActive===1}]),onClick:e[1]||(e[1]=Q(g=>n.tabActive=1,["stop"]))},v(t.$t("rechargeGas")),3)]),ot(b("div",null,[b("div",_o,[b("div",vo,v(t.$t("payToken")),1),D(c,{token:n.token,tokens:n.tokens},null,8,["token","tokens"])]),b("div",ko,[b("div",Eo,v(t.$t("swapAmount")),1),b("ul",Co,[(S(!0),N(pt,null,ne(n.gasAmountList,(g,h)=>{var k;return S(),N("li",{key:h,class:"clickable",onClick:Q(B=>n.selected=g.u,["stop"])},[b("div",null,[b("div",null,"\u2248 "+v(t.$f.formatNumber2(g.amountEth))+" "+v(g.symbol),1),b("div",Bo,"\u2248 "+v(s.formatGasCount(g.amountEthD))+" "+v(t.$t("commonTransactionFee")),1)]),b("div",null,v(t.$f.formatNumber2(g.amount))+" "+v(((k=n.token)==null?void 0:k.symbol)||""),1),n.selected===g.u?(S(),N("img",So)):G("",!0)],8,To)}),128))])]),b("div",Io,[b("div",No,v(((p=i.accountInfo)==null?void 0:p.mainName)||n.ethToken.symbol)+" "+v(t.$t("balance"))+": "+v(t.$f.formatNumber2(((w=n.ethToken)==null?void 0:w.value)||0)),1),D(a,{class:"submit-btn",color:"#3F80F7",block:"",disabled:s.swapDisabled,loading:n.loading,"loading-text":s.swapDisabledMsg||t.$t("swap"),onClick:Q(s.appExchangeGas,["stop"])},{default:J(()=>[bt(v(s.swapDisabledMsg||t.$t("swap")),1)]),_:1},8,["disabled","loading","loading-text","onClick"])]),b("div",Po,[Lo,b("h3",Mo,v(t.$t("exchangeHistory")),1),ot(D(l,{description:t.$t("empty"),class:"empty"},null,8,["description"]),[[wt,n.gasTxList&&n.gasTxList.length===0&&!n.loadingGetGasList]]),b("ul",null,[((T=n.gasTxList)==null?void 0:T.length)>0?(S(),W(m,{key:0,items:n.gasTxList,"min-item-size":200,"key-field":"id","page-mode":"",buffer:1e3,class:"scroller"},{default:J(({item:g,index:h,active:k})=>[D(d,{item:g,active:k,"data-index":h},{default:J(()=>[D(u,{item:g,onRefresh:s.getNoGasList},null,8,["item","onRefresh"])]),_:2},1032,["item","active","data-index"])]),_:1},8,["items"])):G("",!0)])])],512),[[wt,n.tabActive===0]]),ot(b("div",null,[b("div",Ro,[Uo,b("span",null,v(t.$t("walletChainTips",{n:i.accountInfo.chainName})),1)]),i.accountInfo.account?(S(),N("img",{key:0,class:"qr",src:n.qrUrl,alt:""},null,8,Fo)):(S(),N("div",Do,[b("span",null,v(t.$t("unconnectedWallet")),1)])),b("div",xo,v(t.$t("receiptAddress")),1),i.accountInfo.account?(S(),N("div",Go,v(i.accountInfo.account),1)):G("",!0),b("div",zo,[b("div",Ho,v(((y=i.accountInfo)==null?void 0:y.mainName)||n.ethToken.symbol)+" "+v(t.$t("balance"))+": "+v(t.$f.formatNumber2(((A=n.ethToken)==null?void 0:A.value)||0)),1),ot((S(),W(a,{class:"submit-btn",color:"#3F80F7",disabled:!i.accountInfo.account,block:""},{default:J(()=>[bt(v(t.$t("copyAddress")),1)]),_:1},8,["disabled"])),[[f,i.accountInfo.account]])])],512),[[wt,n.tabActive===1]])])}var jo=xt(po,[["render",$o],["__scopeId","data-v-1edc9d8c"]]);export{jo as default};
